<!DOCTYPE html>
<!-- saved from url=(0081)https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker -->
<html lang="en" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" async="" src="./MQTT_TLS_files/analytics.js"></script>
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Mosquitto&#39;s default protocol isn&#39;t encrypted, which puts your MQTT-using apps at risk. Let&#39;s nail it down with the Transport Security Layer.">
  <meta name="keywords" content="iot, iot security, mqtt, mosquitto, tls, tutorial">

  <meta property="og:description" content="Mosquitto&#39;s default protocol isn&#39;t encrypted, which puts your MQTT-using apps at risk. Let&#39;s nail it down with the Transport Security Layer.">
  <meta property="og:site_name" content="dzone.com">
  <meta property="og:title" content="Secure Communication With TLS and the Mosquitto Broker - DZone IoT">
  <meta property="og:url" content="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker">
  <meta property="og:image" content="https://dz2cdn3.dzone.com/storage/article-thumb/4996854-thumb.jpg">
  <meta property="og:type" content="article">

  <meta name="twitter:site" content="@DZoneInc">
  <meta name="twitter:image" content="https://dz2cdn3.dzone.com/storage/article-thumb/4996854-thumb.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:description" content="Mosquitto&#39;s default protocol isn&#39;t encrypted, which puts your MQTT-using apps at risk. Let&#39;s nail it down with the Transport Security Layer.">
  <meta name="twitter:title" content="Secure Communication With TLS and the Mosquitto Broker - DZone IoT">

  <meta name="referrer" content="origin-when-cross-origin">
  <meta name="google-site-verification" content="kndbhxcupfEqWmZclhCpB6vlgOs7QSmx2UHAGGnP2mA">
  <meta name="df-verify" content="df0d76632b4543">

  <link rel="icon" type="image/x-icon" href="https://dz2cdn3.dzone.com/themes/dz20/images/favicon.png">
  <link rel="image_src" href="https://dz2cdn3.dzone.com/storage/article-thumb/4996854-thumb.jpg">
  <link rel="canonical" href="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker">

  <title>Secure Communication With TLS and the Mosquitto Broker - DZone IoT</title>

  <link rel="preload" href="https://fonts.dzone.com/themes/dz20/font/fontello.woff?11773374" as="font" type="font/woff" crossorigin="anonymous">

  <link rel="stylesheet" media="all" href="./MQTT_TLS_files/icons.css">
  <link rel="stylesheet" media="all" href="./MQTT_TLS_files/bootstrap.min.css">
  <link rel="stylesheet" media="all" href="./MQTT_TLS_files/global.css">
  <link rel="stylesheet" media="all" href="./MQTT_TLS_files/styles.css">
<script type="text/javascript" async="" src="./MQTT_TLS_files/tag.aspx"></script><script type="text/javascript" async="" src="./MQTT_TLS_files/js"></script><script type="text/javascript" async="" src="./MQTT_TLS_files/js(1)"></script><script type="text/javascript" async="" src="./MQTT_TLS_files/linkid.js"></script><script src="./MQTT_TLS_files/trg_1506.js" async=""></script><meta http-equiv="origin-trial" content="AxujKG9INjsZ8/gUq8+dTruNvk7RjZQ1oFhhgQbcTJKDnZfbzSTE81wvC2Hzaf3TW4avA76LTZEMdiedF1vIbA4AAABueyJvcmlnaW4iOiJodHRwczovL2ltYXNkay5nb29nbGVhcGlzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0="><meta http-equiv="origin-trial" content="Azuce85ORtSnWe1MZDTv68qpaW3iHyfL9YbLRy0cwcCZwVnePnOmkUJlG8HGikmOwhZU22dElCcfrfX2HhrBPAkAAAB7eyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A16nvcdeoOAqrJcmjLRpl1I6f3McDD8EfofAYTt/P/H4/AWwB99nxiPp6kA0fXoiZav908Z8etuL16laFPUdfQsAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="AxBHdr0J44vFBQtZUqX9sjiqf5yWZ/OcHRcRMN3H9TH+t90V/j3ENW6C8+igBZFXMJ7G3Pr8Dd13632aLng42wgAAACBeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiVHJ1c3RUb2tlbnMiLCJleHBpcnkiOjE2NTI3NzQ0MDAsImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A88BWHFjcawUfKU3lIejLoryXoyjooBXLgWmGh+hNcqMK44cugvsI5YZbNarYvi3roc1fYbHA1AVbhAtuHZflgEAAAB2eyJvcmlnaW4iOiJodHRwczovL2dvb2dsZS5jb206NDQzIiwiZmVhdHVyZSI6IlRydXN0VG9rZW5zIiwiZXhwaXJ5IjoxNjUyNzc0NDAwLCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A8FHS1NmdCwGqD9DwOicnHHY+y27kdWfxKa0YHSGDfv0CSpDKRHTQdQmZVPDUdaFWUsxdgVxlwAd6o+dhJykPA0AAACWeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjQzMTU1MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><meta http-equiv="origin-trial" content="A8zdXi6dr1hwXEUjQrYiyYQGlU3557y5QWDnN0Lwgj9ePt66XMEvNkVWOEOWPd7TP9sBQ25X0Q15Lr1Nn4oGFQkAAACceyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjQzMTU1MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><meta http-equiv="origin-trial" content="A4/Htern2udN9w3yJK9QgWQxQFruxOXsXL7cW60DyCl0EZFGCSme/J33Q/WzF7bBkVvhEWDlcBiUyZaim5CpFQwAAACceyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiQ29udmVyc2lvbk1lYXN1cmVtZW50IiwiZXhwaXJ5IjoxNjQzMTU1MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlLCJ1c2FnZSI6InN1YnNldCJ9"><script src="./MQTT_TLS_files/pubads_impl_2021111601.js" async=""></script><img src="./MQTT_TLS_files/skeleton.gif" decoding="async" style="width: 90px !important; height: 728px !important; position: fixed !important; left: -100px !important; top: -738px !important; display: block;"><script async="" src="./MQTT_TLS_files/hotjar-2668854.js"></script><script type="text/javascript" src="./MQTT_TLS_files/15531666621506"></script><script async="" src="./MQTT_TLS_files/modules.376dac12c7cbd03331c3.js" charset="utf-8"></script><style type="text/css">iframe#_hjRemoteVarsFrame {display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;}</style><link rel="stylesheet" href="./MQTT_TLS_files/codemirror.css"><link rel="stylesheet" href="./MQTT_TLS_files/styles(1).css"><link rel="stylesheet" href="./MQTT_TLS_files/froala_editor.pkgd.min.css"><link rel="stylesheet" href="./MQTT_TLS_files/gray.min.css"><link rel="stylesheet" href="./MQTT_TLS_files/mini-profile.css"><script src="./MQTT_TLS_files/auth-status.js"></script><link rel="preload" href="./MQTT_TLS_files/f.txt" as="script"><script type="text/javascript" src="./MQTT_TLS_files/f.txt"></script><link rel="preload" href="./MQTT_TLS_files/f(1).txt" as="script"><script type="text/javascript" src="./MQTT_TLS_files/f(1).txt"></script><script id="omapi-script" src="./MQTT_TLS_files/api.min.js" async=""></script><script src="./MQTT_TLS_files/lazysizes.min.js"></script><style type="text/css">@keyframes omBounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-30px)}60%{transform:translateY(-15px)}}.om-animation-bounce{animation-duration:1s;animation-fill-mode:both;animation-name:omBounce}@keyframes omBounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}.om-animation-bounce-in{animation-duration:1s;animation-name:omBounceIn}@keyframes omBounceInDown{0%{opacity:0;transform:translateY(-2000px)}60%{opacity:1;transform:translateY(30px)}80%{transform:translateY(-10px)}to{transform:translateY(0)}}.om-animation-bounce-in-down{animation-duration:1s;animation-name:omBounceInDown}@keyframes omBounceInLeft{0%{opacity:0;transform:translateX(-2000px)}60%{opacity:1;transform:translateX(30px)}80%{transform:translateX(-10px)}to{transform:translateX(0)}}.om-animation-bounce-in-left{animation-duration:1s;animation-name:omBounceInLeft}@keyframes omBounceInRight{0%{opacity:0;transform:translateX(2000px)}60%{opacity:1;transform:translateX(-30px)}80%{transform:translateX(10px)}to{transform:translateX(0)}}.om-animation-bounce-in-right{animation-duration:1s;animation-name:omBounceInRight}@keyframes omBounceInUp{0%{opacity:0;transform:translateY(2000px)}60%{opacity:1;transform:translateY(-30px)}80%{transform:translateY(10px)}to{transform:translateY(0)}}.om-animation-bounce-in-up{animation-duration:1s;animation-name:omBounceInUp}@keyframes omFlash{0%,50%,to{opacity:1}25%,75%{opacity:0}}.om-animation-flash{animation-duration:1s;animation-fill-mode:both;animation-name:omFlash}@keyframes omFlip{0%{transform:perspective(800px) translateZ(0) rotateY(0) scale(1);animation-timing-function:ease-out}40%{transform:perspective(800px) translateZ(150px) rotateY(170deg) scale(1);animation-timing-function:ease-out}50%{transform:perspective(800px) translateZ(150px) rotateY(190deg) scale(1);animation-timing-function:ease-in}80%{transform:perspective(800px) translateZ(0) rotateY(1turn) scale(.95);animation-timing-function:ease-in}to{transform:perspective(800px) translateZ(0) rotateY(1turn) scale(1);animation-timing-function:ease-in}}.om-animation-flip{animation-duration:1s;backface-visibility:visible;animation-name:omFlip}@keyframes omFlipInX{0%{transform:perspective(800px) rotateX(90deg);opacity:0}40%{transform:perspective(800px) rotateX(-10deg)}70%{transform:perspective(800px) rotateX(10deg)}to{transform:perspective(800px) rotateX(0deg);opacity:1}}.om-animation-flip-down{animation-duration:1s;backface-visibility:visible;animation-name:omFlipInX}@keyframes omFlipInY{0%{transform:perspective(800px) rotateY(90deg);opacity:0}40%{transform:perspective(800px) rotateY(-10deg)}70%{transform:perspective(800px) rotateY(10deg)}to{transform:perspective(800px) rotateY(0deg);opacity:1}}.om-animation-flip-side{animation-duration:1s;backface-visibility:visible;animation-name:omFlipInY}@keyframes omLightSpeedIn{0%{transform:translateX(100%) skewX(-30deg);opacity:0}60%{transform:translateX(-20%) skewX(30deg);opacity:1}80%{transform:translateX(0) skewX(-15deg);opacity:1}to{transform:translateX(0) skewX(0deg);opacity:1}}.om-animation-light-speed{animation-duration:1s;animation-name:omLightSpeedIn;animation-timing-function:ease-out}@keyframes omPulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.om-animation-pulse{animation-duration:1s;animation-fill-mode:both;animation-name:omPulse}@keyframes omRollIn{0%{opacity:0;transform:translateX(-100%) rotate(-120deg)}to{opacity:1;transform:translateX(0) rotate(0deg)}}.om-animation-roll-in{animation-duration:1s;animation-name:omRollIn}@keyframes omRotateIn{0%{transform-origin:center center;transform:rotate(-200deg);opacity:0}to{transform-origin:center center;transform:rotate(0);opacity:1}}.om-animation-rotate{animation-duration:1s;animation-name:omRotateIn}@keyframes omRotateInDownLeft{0%{transform-origin:left bottom;transform:rotate(-90deg);opacity:0}to{transform-origin:left bottom;transform:rotate(0);opacity:1}}.om-animation-rotate-down-left{animation-duration:1s;animation-name:omRotateInDownLeft}@keyframes omRotateInDownRight{0%{transform-origin:right bottom;transform:rotate(90deg);opacity:0}to{transform-origin:right bottom;transform:rotate(0);opacity:1}}.om-animation-rotate-down-right{animation-duration:1s;animation-name:omRotateInDownRight}@keyframes omRotateInUpLeft{0%{transform-origin:left bottom;transform:rotate(90deg);opacity:0}to{transform-origin:left bottom;transform:rotate(0);opacity:1}}.om-animation-rotate-up-left{animation-duration:1s;animation-name:omRotateInUpLeft}@keyframes omRotateInUpRight{0%{transform-origin:right bottom;transform:rotate(-90deg);opacity:0}to{transform-origin:right bottom;transform:rotate(0);opacity:1}}.om-animation-rotate-up-right{animation-duration:1s;animation-name:omRotateInUpRight}@keyframes omRubberBand{0%{transform:scale(1)}30%{transform:scaleX(1.25) scaleY(.75)}40%{transform:scaleX(.75) scaleY(1.25)}60%{transform:scaleX(1.15) scaleY(.85)}to{transform:scale(1)}}.om-animation-rubber-band{animation-duration:1s;animation-fill-mode:both;animation-name:omRubberBand}@keyframes omShake{0%,to{transform:translateX(0)}10%,30%,50%,70%,90%{transform:translateX(-10px)}20%,40%,60%,80%{transform:translateX(10px)}}.om-animation-shake{animation-duration:1s;animation-fill-mode:both;animation-name:omShake}@keyframes omSlideInDown{0%{opacity:0;transform:translateY(-2000px)}to{transform:translateY(0)}}.om-animation-slide-in-down{animation-duration:1s;animation-name:omSlideInDown}@keyframes omSlideInLeft{0%{opacity:0;transform:translateX(-2000px)}to{transform:translateX(0)}}.om-animation-slide-in-left{animation-duration:1s;animation-name:omSlideInLeft}@keyframes omSlideInRight{0%{opacity:0;transform:translateX(2000px)}to{transform:translateX(0)}}.om-animation-slide-in-right{animation-duration:1s;animation-name:omSlideInRight}@keyframes omSwing{20%{transform:rotate(15deg)}40%{transform:rotate(-10deg)}60%{transform:rotate(5deg)}80%{transform:rotate(-5deg)}to{transform:rotate(0deg)}}.om-animation-swing{animation-duration:1s;transform-origin:top center;animation-name:omSwing}@keyframes omTada{0%{transform:scale(1)}10%,20%{transform:scale(.9) rotate(-3deg)}30%,50%,70%,90%{transform:scale(1.1) rotate(3deg)}40%,60%,80%{transform:scale(1.1) rotate(-3deg)}to{transform:scale(1) rotate(0)}}.om-animation-tada{animation-duration:1s;animation-name:omTada}@keyframes omWobble{0%{transform:translateX(0)}15%{transform:translateX(-25%) rotate(-5deg)}30%{transform:translateX(20%) rotate(3deg)}45%{transform:translateX(-15%) rotate(-3deg)}60%{transform:translateX(10%) rotate(2deg)}75%{transform:translateX(-5%) rotate(-1deg)}to{transform:translateX(0)}}.om-animation-wobble{animation-duration:1s;animation-name:omWobble}.om-content-lock{color:transparent!important;text-shadow:rgba(0,0,0,.5) 0 0 10px;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;filter:url("data:image/svg+xml;utf9,<svg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'><filter%20id='blur'><feGaussianBlur%20stdDeviation='10'%20/></filter></svg>#blur");-webkit-filter:blur(10px);-ms-filter:blur(10px);-o-filter:blur(10px);filter:blur(10px)}html.om-mobile-position,html.om-mobile-position body{position:fixed!important}html.om-ios-form,html.om-ios-form body{transform:translateZ(0)!important;-webkit-overflow-scrolling:touch!important;height:100%!important;overflow:auto!important}html.om-position-popup body{overflow:hidden!important}html.om-position-floating-top{transition:padding-top .5s ease!important}html.om-position-floating-bottom{transition:padding-bottom .5s ease!important}html.om-reset-dimensions{height:100%!important;width:100%!important}.om-verification-confirmation{font-family:Lato,Arial,Helvetica,sans-serif;position:fixed;border-radius:10px;bottom:20px;left:20px;padding:10px 20px;opacity:0;transition:opacity .3s ease-in;background:#85bf31;color:#fff;font-size:18px;font-weight:700;z-index:9999}</style><script src="./MQTT_TLS_files/codeblocks.js"></script><script src="./MQTT_TLS_files/activity-bar.js"></script><script src="./MQTT_TLS_files/froala_editor.pkgd.min.js"></script><script src="./MQTT_TLS_files/content.js"></script><script src="./MQTT_TLS_files/content(1).js"></script><script src="./MQTT_TLS_files/content(2).js"></script><script src="./MQTT_TLS_files/codemirror.js"></script><script src="./MQTT_TLS_files/meta.js"></script><script src="./MQTT_TLS_files/shell.js"></script><script src="./MQTT_TLS_files/shell.js"></script><script src="./MQTT_TLS_files/shell.js"></script><script src="./MQTT_TLS_files/shell.js"></script><script src="./MQTT_TLS_files/shell.js"></script><script src="./MQTT_TLS_files/shell.js"></script><script src="./MQTT_TLS_files/shell.js"></script><script src="./MQTT_TLS_files/shell.js"></script><script src="./MQTT_TLS_files/shell.js"></script><script src="./MQTT_TLS_files/shell.js"></script><script src="./MQTT_TLS_files/properties.js"></script><script src="./MQTT_TLS_files/properties.js"></script><script src="./MQTT_TLS_files/shell.js"></script><script src="./MQTT_TLS_files/webfont.js" async=""></script><script src="./MQTT_TLS_files/moment.min.js" async=""></script><link rel="stylesheet" href="./MQTT_TLS_files/css" media="all"><link rel="stylesheet" href="./MQTT_TLS_files/font-awesome.css" media="all"><script src="./MQTT_TLS_files/moment-timezone-with-data-2012-2022.min.js" async=""></script><link rel="preload" href="./MQTT_TLS_files/f.txt" as="script"><script type="text/javascript" src="./MQTT_TLS_files/f.txt"></script><link rel="preload" href="./MQTT_TLS_files/f(1).txt" as="script"><script type="text/javascript" src="./MQTT_TLS_files/f(1).txt"></script><link rel="preload" href="./MQTT_TLS_files/f.txt" as="script"><script type="text/javascript" src="./MQTT_TLS_files/f.txt"></script><link rel="preload" href="./MQTT_TLS_files/f(1).txt" as="script"><script type="text/javascript" src="./MQTT_TLS_files/f(1).txt"></script></head>
<body class="">
<div id="ftl-header">
  <div class="container-fluid header">
    <div class="row">
      <div class="col-md-12" style="padding: 0;">
        <div class="header-top">
          <div class="header-container">
            <div class="pull-left logo-container">
              <div class="logo">
                <a class="inner" href="https://dzone.com/">
                  <picture>
                    <source srcset="https://dz2cdn3.dzone.com/themes/dz20/images/dz_cropped.webp" type="image/webp">
                    <source srcset="https://dz2cdn3.dzone.com/themes/dz20/images/dz_cropped.png" type="image/png">
                    <img src="./MQTT_TLS_files/dz_cropped.png" width="160" height="56" alt="DZone">
                  </picture>
                </a>
              </div>

                <div class="active-portal"><a href="https://dzone.com/iot-developer-tutorials-tools-news-reviews">IoT Zone</a></div>
            </div>

            <div class="pull-right login-and-search">
              <div id="authenticated-block" class="logged-in">
                <div class="welcome-back">Thanks for visiting DZone today,</div>
                <div id="user-header" class="user-info">
                  <button class="user-avatar">
                    <span id="header-username" class="username"></span>
                    <img id="header-avatar" src="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker" alt="user avatar">
                  </button>
                  <div id="user-dropdown" class="browse-user-menu">
                    <div class="user-content">
                      <a id="header-user-plug" href="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker#" class="user-description"></a>
                      <a id="header-user-edit" href="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker#" class="edit-profile">Edit Profile</a>
                    </div>
                    <ul class="user-actions">
                      <li id="first-user-action"><a id="header-dropdown-manage-email" href="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker#">Manage Email Subscriptions</a></li>
                      <li>
                        <a href="https://dzone.com/articles/how-to-submit-a-post-to-dzone?utm_source=DZone&amp;utm_medium=user_dropdown&amp;utm_campaign=how_to_post">
                          How to Post to DZone
                        </a>
                      </li>
                      <li>
                        <a href="https://dzone.com/articles/dzones-article-submission-guidelines">
                          Article Submission Guidelines
                        </a>
                      </li>
                    </ul>
                    <div class="bottom">
                      <a href="https://dzone.com/users/logout.html" class="sign-out">Sign Out</a>
                      <a id="dropdown-view-profile" href="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker#" class="view-profile">View Profile</a>
                    </div>
                  </div>
                </div>

                <div class="post-content">
                  <button id="post-button" class="post-content--button">
                    <span class="post-class">Post</span>
                    <i class="icon-plus"></i>
                  </button>

                  <div id="post-menu" class="posting-links">
                    <div class="posting-links-menu">
                      <ul>
                        <li>
                          <img src="./MQTT_TLS_files/dz-postarticle.svg">
                          <a href="https://dzone.com/content/article/post.html">Post an Article</a>
                        </li>
                        <li>
                          <a id="drafts-link" href="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker#">Manage My Drafts</a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>

              <div id="unauthenticated-block" class="shown">
                <div class="dz-intro">Over 2 million developers have joined DZone.</div>
                <div class="mobile-invisible sign-in-join">
                  <a href="https://dzone.com/users/login.html">Log In</a>
                  <span class="dz-intro-span">/</span>
                  <a href="https://dzone.com/static/registration.html">Join</a>
                </div>
                <a class="join-icon" href="https://dzone.com/users/login.html"><i class="icon-user"></i></a>
              </div>
              <div class="headerSearch">
                <a class="icon-search dropdown-toggle" href="https://dzone.com/search"></a>
              </div>
            </div>
          </div>
        </div>

        <div class="header-bottom">


          <ul class="portals header-container scrollable-ul">
            <li>
              <a href="https://dzone.com/refcardz" id="header-refcardz">
                <em>Refcardz</em>
              </a>
            </li>
            <li>
              <a href="https://dzone.com/research" id="header-research">
                <em>Research</em>
              </a>
            </li>
            <li>
              <a href="https://dzone.com/webinars" id="header-webinars">
                <em>Webinars</em>
              </a>
            </li>
            <li class="last-portal-link">
              <a href="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker#" id="header-portals">
                <em>
                  Zones
                  <span id="zone-arrow" class="collapsible-toggle">
                    <i class="icon-angle-down"></i>
                    <i class="icon-angle-up"></i>
                  </span>
                </em>
              </a>
            </li>

            <li class="separator" aria-hidden="true" style="color: #d9dcdd;">|</li>
            <li id="portal-list" class="portal-topics">
              <ul>
                  <li>
                    <a href="https://dzone.com/agile-methodology-training-tools-news" id="header-2">Agile</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/artificial-intelligence-tutorials-tools-news" id="header-4001">AI</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/big-data-analytics-tutorials-tools-news" id="header-3">Big Data</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/cloud-computing-tutorials-tools-news" id="header-4">Cloud</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/database-sql-nosql-tutorials-tools-news" id="header-5">Database</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/devops-tutorials-tools-news" id="header-6">DevOps</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/enterprise-integration-training-tools-news" id="header-7">Integration</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/iot-developer-tutorials-tools-news-reviews" id="header-8">IoT</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/java-jdk-development-tutorials-tools-news" id="header-1">Java</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/microservices-news-tutorials-tools" id="header-6001">Microservices</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/open-source-news-tutorials-tools" id="header-7001">Open Source</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/apm-tools-performance-monitoring-optimization" id="header-10">Performance</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/application-web-network-security" id="header-2001">Security</a>
                  </li>
                  <li>
                    <a href="https://dzone.com/web-development-programming-tutorials-tools-news" id="header-11">Web Dev</a>
                  </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<script async="" src="./MQTT_TLS_files/v2juaPA-ll6pGzFs-zivtsLC3aJwAmgLCrQcr9i66BrXliNaQj6NjU9ZO_rOwXi0R"></script><script async="" src="./MQTT_TLS_files/gtm.js"></script><script async="" src="./MQTT_TLS_files/bundle.js"></script><link rel="stylesheet" media="all" href="./MQTT_TLS_files/styles(2).css">




<div id="ftl-article">
  <div class="container-fluid body">
    <div class="row">
      <div class="col-md-12">
        <div class="articles-wrap">
            <div class="ad-container" style="height: 90px;">
              <div id="div-gpt-ad-1435246566686-0" class="ads-billboard-article ad-hidden" data-gpt-slot="top" data-google-query-id="CJWv0_DGv_QCFXYTtwAd3q8IBQ" style="top: 100px;"><div id="google_ads_iframe_/2916070/dz2_article_billboard_new_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/2916070/dz2_article_billboard_new_0" title="3rd party ad content" name="google_ads_iframe_/2916070/dz2_article_billboard_new_0" width="970" height="90" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" allow="attribution-reporting" data-google-container-id="2" style="border: 0px; vertical-align: bottom;" data-load-complete="true" src="./MQTT_TLS_files/saved_resource.html"></iframe></div></div>
            </div>


          <div class="article-stream widget-top-border">
                <div class="content-right-images affix" style="margin-top: -90px; top: 198px; right: 298px;">
                  <div id="div-gpt-ad-1435246566686-2" class="sidebar-ad" data-gpt-desktop="true" data-gpt-slot="sidebar1" data-google-query-id="CKuU0_DGv_QCFakBtwAd9uwCYQ"><div id="google_ads_iframe_/2916070/dz2_article_halfpage_new_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/2916070/dz2_article_halfpage_new_0" title="3rd party ad content" name="google_ads_iframe_/2916070/dz2_article_halfpage_new_0" width="300" height="600" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" allow="attribution-reporting" style="border: 0px; vertical-align: bottom;" data-google-container-id="1" data-load-complete="true" src="./MQTT_TLS_files/saved_resource(1).html"></iframe></div></div>
                </div>

                <script type="application/ld+json">
                  {
                    "@context": "http://schema.org",
                    "@type": "Article",
                    "headline": "Secure Communication With TLS and the Mosquitto Broker",
                    "author": {
                      "@type": "Person",
                      "name": "Erich Styger"
                    },
                    "audience": "software developers",
                    "keywords": "iot,iot security,mqtt,mosquitto,tls,tutorial",
                    "timeRequired": "PT8M",
                    "commentCount": 1,
                    "wordCount": "1849",
                    "accessMode": "textual, visual",
                    "dateCreated": "2017-04-18T11:01:00Z",
                    "datePublished": "2017-04-18T00:00:00Z",
                    "dateModified": "2017-04-25T13:39:27Z",
                    "articleSection": "iot-developer-tutorials-tools-news-reviews",
                    "publisher": {
                      "@type": "Organization",
                      "name": "DZone",
                      "url": "https://dzone.com",
                      "logo": {
                        "@type": "ImageObject",
                        "url": "https://dzone.com/themes/dz20/images/dz_cropped.png"
                      }
                    },
                    "articleBody": "MQTT is a lightweight and broadly used Internet protocol (see MQTT with lwIP and NXP FRDM-K64F Board). And probably the majority of IoT applications today are using Mosquitto as a server (or ‘broker’ in MQTT language). By default, Mosquitto uses a protocol without encryption. In Introduction to Security and TLS (Transport Layer Security), I covered the basics and needs for encryption. This article is about how to enable Mosquitto and clients to use the TLS protocol. TLS Handshaking with certificates and keys Outline This article walks through the basic principles and settings to configure Mosquitto brokers and MQTT clients with the TLS (Transport Layer Security) protocol. TLS is the successor of SSL (Secure Sockets Layer) and is often used as a combination of TLS/SSL. To use TLS between the broker and the client, a set of keys and certificates has to be generated and deployed, along with configuration settings on the broker and the client. In this article, I’m using the following set of software and tools: Broker: Mosquitto version 1.4.11 (build date 20/02/2017) Key and certificate generation: OpenSSL 1.0.2j 26 Sep 2016 MQTT client: MQTT.fx 1.3.1 See MQTT with lwip and NXP FRDM-K64F Board about how to install the above tools. On Windows, OpenSSL gets installed with the Mosquitto installer. The steps are: Create a CA key pair Create CA certificate and sign it with the private key from step 1 Create the broker key pair Create a CA certificate sign request using the key from step 3 Use the CA certificate from step 2 to sign the request from step 4 It is important that you run the openssl tool in administrator mode! Running as administrator On the broker, I need the following things: Certificate from the CA (Certificate Authority) Server certificate, signed by the CA with its private key Server Private Key for decrypting of the incoming messages Create CA Key Pair Run as administrator the following command: openssl genrsa -des3 -out m2mqtt_ca.key 2048 Options used (see https://wiki.openssl.org/index.php/Manual:Genrsa(1)): genrsa: Generate an RSA private key -des3: Using DES3 cipher for the key generation -out: Specifies the output file name (.key) 2048: Number of bits for the private key Which gives: C:\\tmp\\ssl&gt;openssl genrsa -des3 -out m2mqtt_ca.key 2048 Generating RSA private key, 2048 bit long modulus ...................................+++ ..+++ e is 65537 (0x10001) Enter pass phrase for m2mqtt_ca.key: Verifying - Enter pass phrase for m2mqtt_ca.key: The passphrase is used to protect the private key. The generated private file m2mqtt_ca.key looks like this and has both the private and public key: -----BEGIN RSA PRIVATE KEY----- Proc-Type: 4,ENCRYPTED DEK-Info: DES-EDE3-CBC,F908DA05008A3132 alfCGiw0kcL7zfQvEBAE3gAs0o1IAbDtJpsJDok4Q9XlU+D8P8STQA0TFmhTCN1I &lt;more text here&gt; Lvme6Tl4b7kfFc3rvXf3tZwCVy8UOLzv9wbVdKwvwxnpm0ANKi8317vpbwb9Mrmy -----END RSA PRIVATE KEY----- Create CA Certificate Next, I’m creating a certificate for the CA using the key pair I created in step 1: openssl req -new -x509 -days 3650 -key m2mqtt_ca.key -out m2mqtt_ca.crt Options used (see https://wiki.openssl.org/index.php/Manual:Req(1)): req: Certificate request and certification utility. -new: Generate a new certificate. It will prompt the user for several input fields. -x509: Create a self-signed certificate. -days: Specify the number of days the certificate is valid. -key: Key file with the private key to be used for signing. -out: Specifies the file name for the certificate (.crt). This generates a certificate certificate (m2mqtt_ca.crt). I have to provide an additional passphrase for the PEM (container for multiple items, see http://how2ssl.com/articles/working_with_pem_files/). C:\\tmp\\ssl&gt;openssl req -new -x509 -days 3650 -key m2mqtt_ca.key -out m2mqtt_ca.crt Enter pass phrase for m2mqtt_ca.key: You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter '.', the field will be left blank. ----- Country Name (2 letter code) [AU]:CH State or Province Name (full name) [Some-State]:Switzerland Locality Name (eg, city) []:Lucerne Organization Name (eg, company) [Internet Widgits Pty Ltd]:HSLU Organizational Unit Name (eg, section) []:T&amp;A Common Name (e.g. server FQDN or YOUR name) []:ErichStyger-PC Email Address []:mail@hslu.ch As a common name, I give the name of my host PC (which is acting as the CA for me). The generated certificate m2mqtt_ca.crt looks like this: -----BEGIN CERTIFICATE----- MIID6DCCAtCgAwIBAgIJAP8FtRqBHYWxMA0GCSqGSIb3DQEBCwUAMIGIMQswCQYD &lt;some more text here&gt; x9uEvaymIwyH7HNUOi9K3ycizDvCBSASPJ+XGHK/r6cPOybzNzTG6bLrg08= -----END CERTIFICATE----- On Windows, I can use the Certificate viewer to inspect it: Windows Certificate Viewer Create a Mosquitto Broker Key Pair Next, I’m creating a private key for the server (m2mqtt_srv.key) with: openssl genrsa -out m2mqtt_srv.key 2048 Options used (see https://wiki.openssl.org/index.php/Manual:Genrsa(1)): genrsa: Generate an RSA private key. -out: Specifies the output file name (.key). 2048: Number of bits for the private key. Note that I’m not using the -des3 option, as otherwise the key will be password protected, and I would have to enter this password when I start the broker. Not something I want. Which gives: C:\\tmp\\ssl&gt;openssl genrsa -out m2mqtt_srv.key 2048 Generating RSA private key, 2048 bit long modulus ........................++++++ ..........++++++ e is 65537 (0x10001) If you get a “unable to write ‘random state'” in the output, make sure you run the command prompt as Administrator! The private key file looks like this: -----BEGIN RSA PRIVATE KEY----- MIIEpAIBAAKCAQEA4PZ20QWql4IU0RFO6NCCqjQgWnXa3P8Coyy20tmc2bnfZBcY &lt;more text here&gt; ub3uwTWCLTbpHP8AueLJlTMWU/en88Ed4T2hXMRnzetmKWMsJ9XW3g== -----END RSA PRIVATE KEY----- Create Certificate Request from CA That key we need to be certified, so we create a certificate request for it, and the certificate needs to be signed by the CA: openssl req -new -out m2mqtt_srv.csr -key m2mqtt_srv.key Parameters used (see https://wiki.openssl.org/index.php/Manual:Req(1)): req: Certificate request and certification utility. -new: Create new request file file. -out: File name for the certificate signing request (.csr). -key: File name of the key to be certified. Which gives: C:\\tmp\\ssl&gt;openssl req -new -out m2mqtt_srv.csr -key m2mqtt_srv.key You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter '.', the field will be left blank. ----- Country Name (2 letter code) [AU]:CH State or Province Name (full name) [Some-State]:Switzerland Locality Name (eg, city) []:Lucerne Organization Name (eg, company) [Internet Widgits Pty Ltd]:HSLU Organizational Unit Name (eg, section) []:T&amp;A Common Name (e.g. server FQDN or YOUR name) []:ErichStyger-PC Email Address []:mail@hslu.ch Please enter the following 'extra' attributes to be sent with your certificate request A challenge password []: An optional company name []: I’m using ‘ErichStyger-PC’ because this is the machine that will run the broker. This creates the m2mqtt_srv.csr (Certificate sign request) which looks like this: -----BEGIN CERTIFICATE REQUEST----- MIICzjCCAbYCAQAwgYgxCzAJBgNVBAYTAkNIMRQwEgYDVQQIDAtTd2l0emVybGFu &lt;more text here&gt; 4PwJlZU81GN+fLwR01iTT6MhwjbKNouPjtMsI30SpPZxhNIBrsSYdESD/Abp+g3j Bv0= -----END CERTIFICATE REQUEST----- Verify and Sign the Certificate Request The last step is to sign the server request through the CA to get the broker certificate: openssl x509 -req -in m2mqtt_srv.csr -CA m2mqtt_ca.crt -CAkey m2mqtt_ca.key -CAcreateserial -out m2mqtt_srv.crt -days 3650 With the following options (see https://wiki.openssl.org/index.php/Manual:X509(1)): x509: Certificate display and signing utility. -req: A certificate request is expected as the input. -in: Input file for the certificate. -CA: Specifies the file to be signed. -CAkey: CA private key to sign the certificate with. -Cacreateserial: The serial number file gets created if it does not exist. -out: Output file name. -days: How long the certificate shall be valid. Which gives: C:\\tmp\\ssl&gt;openssl x509 -req -in m2mqtt_srv.csr -CA m2mqtt_ca.crt -CAkey m2mqtt_ca.key -CAcreateserial -out m2mqtt_srv.crt -days 3650 Signature ok subject=/C=CH/ST=Switzerland/L=Lucerne/O=HSLU/OU=T&amp;A/CN=ErichStyger-PC/emailAddress=mail@hslu.ch Getting CA Private Key Enter pass phrase for m2mqtt_ca.key: The output file looks like this: -----BEGIN CERTIFICATE----- MIIDBjCCAe4CCQDiXkSmKAt/BDANBgkqhkiG9w0BAQsFADBFMQswCQYDVQQGEwJD &lt;more lines here&gt; OezkwBv5rqmBajfux+DasTjXg1Cfe7QcRdSYrnwLMYAIjkpT8LCGvQLxdxjyF8X3 2LWbh6UQSitcVw== -----END CERTIFICATE----- Files This has created the following files: m2mqtt_ca.crt : CA Certificate m2mqtt_ca.key : CA key pair (private, public) m2mqtt_ca.srl : CA serial number file m2mqtt_srv.crt : server certificate m2mqtt_srv.csr : certificate sign request, not needed any more m2mqtt_srv.key : server key pair Inside the Mosquitto installation, create a folder (e.g. ‘certs’ if it does not already exist) and copy the following files we have created in the previous steps: &lt;mosquitto&gt;/certs/m2mqtt_ca.crt &lt;mosquitto&gt;/certs/m2mqtt_srv.crt &lt;mosquitto&gt;/certs/m2mqtt_srv.key The ca.crt belongs to the client (needs to be copied there). Mosquitto Configuration Using a text editor, open and edit &lt;mosquitto&gt;/mosquitto.conf: Under Windows, make sure you have administrative rights to edit the configuration file. Best if you edit a copy outside of the c:/program files folder (where Mosquitto is installed by default) and copy the file into the program file folder. Use port 8883 as default port: # ================================================================= # Default listener # ================================================================= # IP address/hostname to bind the default listener to. If not # given, the default listener will not be bound to a specific # address and so will be accessible to all network interfaces. # bind_address ip-address/host name #bind_address # Port to use for the default listener. port 8883 Specify the certificate and key files: # ----------------------------------------------------------------- # Certificate based SSL/TLS support # ----------------------------------------------------------------- # The following options can be used to enable SSL/TLS support for # this listener. Note that the recommended port for MQTT over TLS # is 8883, but this must be set manually. # # See also the mosquitto-tls man page. # At least one of cafile or capath must be defined. They both # define methods of accessing the PEM encoded Certificate # Authority certificates that have signed your server certificate # and that you wish to trust. # cafile defines the path to a file containing the CA certificates. # capath defines a directory that will be searched for files # containing the CA certificates. For capath to work correctly, the # certificate files must have \".crt\" as the file ending and you must run # \"c_rehash &lt;path to capath&gt;\" each time you add/remove a certificate. #capath cafile C:\\Program Files (x86)\\mosquitto\\certs\\m2mqtt_ca.crt # Path to the PEM encoded server certificate. certfile C:\\Program Files (x86)\\mosquitto\\certs\\m2mqtt_srv.crt # Path to the PEM encoded keyfile. keyfile C:\\Program Files (x86)\\mosquitto\\certs\\m2mqtt_srv.key # This option defines the version of the TLS protocol to use for this listener. # The default value allows v1.2, v1.1 and v1.0, if they are all supported by # the version of openssl that the broker was compiled against. For openssl &gt;= # 1.0.1 the valid values are tlsv1.2 tlsv1.1 and tlsv1. For openssl &lt; 1.0.1 the # valid values are tlsv1. tls_version tlsv1 Mosquitto I launch my local Mosquitto broker with the -c option pointing to the modified configuration file: mosquitto -c mosquitto.conf -v This launches the broker listening on the secure port 8883: Mosquitto listening on port 8883 Server Certificate for the Client In the client (e.g. MQTT.fx), I have to load the certificate of the server: Configured Server Certificate in MQTT Client With this, I can connect to the broker in a secure way: Client connected to Port 8883 to broker Summary Establishing a secure TLS connection to the Mosquitto broker requires key and certificate files. Creating all these files with the correct settings is not the easiest thing, but is rewarded with a secure way to communicate with the MQTT broker. In a next article, I plan to write about how to use TLS with lwIP and the mbedTLS library on the NXP FRDM-K64F board. Happy encrypting!",
                    "mainEntityOfPage": {
                      "@type": "WebPage",
                      "@id": "https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker"
                    },
                    "image": {
                      "@type": "ImageObject",
                      "url": "https://dzone.com//dz2cdn3.dzone.com/storage/article-thumb/4996854-thumb.jpg"
                    }
                  }
                </script>

                  <script type="application/ld+json">
                    {
                      "@context": "https://schema.org",
                      "@type": "BreadcrumbList",
                      "itemListElement": [{
                        "@type": "ListItem",
                        "position": 1,
                        "name": "DZone",
                        "item": "https://dzone.com"
                      }, {
                        "@type": "ListItem",
                        "position": 2,
                        "name": "IoT Zone",
                        "item": "https://dzone.com/iot-developer-tutorials-tools-news-reviews"
                      }, {
                        "@type": "ListItem",
                        "position": 3,
                        "name": "Secure Communication With TLS and the Mosquitto Broker",
                        "item": "https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker"
                      }]
                    }
                  </script>

            <article>
              <div class="content">
                <div class="header">
                  <div class="col-xs-12 breadcrumb-padding">
                    <a href="https://dzone.com/">DZone</a>
                    &gt;
                      <a href="https://dzone.com/iot-developer-tutorials-tools-news-reviews">IoT Zone</a>
                      &gt;
                      <a href="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker#">Secure Communication With TLS and the Mosquitto Broker</a>
                  </div>


                  <div class="header-title">
                    <div class="title">
                      <h1 class="article-title">Secure Communication With TLS and the Mosquitto Broker</h1>
                    </div>

                    <div class="subhead">
                      <h3>Mosquitto is a popular communications broker for IoT apps. That makes them important to secure, which we'll do with the Transport Security Layer.</h3>
                    </div>

                    <div class="publish-meta">
                        <div class="article-author-meta">
                          <a href="https://dzone.com/users/1010735/StonehillRitschi.html">
                            <img src="./MQTT_TLS_files/thumbnail" class="avatar" alt="Erich Styger user avatar" width="40">
                          </a> by

                          <div class="author-info">
                            <span class="author-name">
                              <a href="https://dzone.com/users/1010735/StonehillRitschi.html">Erich Styger</a>
                            </span>
                          </div>


                            <div class="mvb-award">
                              <i title="Most Valuable Blogger" class="icon-mvb-1"></i>
                            </div>


                          ·
                        </div>
                      <span class="author-date">
                        Apr. 18, 17
                      </span>
                      ·
                        <a href="https://dzone.com/iot-developer-tutorials-tools-news-reviews" id="portal-name">
                          <span class="portal-name">IoT Zone</span>
                        </a>
                      ·
                      <span>Tutorial</span>
                    </div>
                  </div>
                </div>

                <div class="author-n-useraction">
                  <div class="like action">
                    <div id="activity-like-icon" class="dz-like icon-thumbs-up">
                      <span class="action-label">
                        <span id="activity-like-text">Like</span>
                      </span>
                      <a href="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker#">
                        <span id="activity-like-counter">(3)</span>
                      </a>
                    </div>
                  </div>

                  <div class="action">

                    <button class="comment">
                      <i class="icon-comment"></i>
                      Comment
                      <span id="activity-comment-counter" class="comment-count">(1)</span>
                    </button>
                  </div>

                  <div class="save action">
                    <div id="activity-save-icon" class="save icon-star-empty">
                      <span id="activity-save-text" class="action-label">Save</span>
                    </div>
                  </div>

                  <div class="tweet action">
                    <a id="tweet-link" href="https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker" class="title" target="_blank">
                      <span><i class="icon-twitter"></i></span>
                      <span class="action-label">Tweet</span>
                    </a>
                  </div>

                  <div class="pull-right">
                    <div id="activity-view-container" class="article-views action">
                      <i class="icon-eye"></i> 33.39K
                      <span class="action-label">Views</span>
                    </div>
                  </div>
                </div>

                    <div class="signin-prompt">
                      <p>Join the DZone community and get the full member experience.</p>
                      <a id="article-signin-prompt" href="https://dzone.com/static/registration.html">Join For Free</a>
                    </div>
                    <div class="arrow-down"></div>

                  <div id="top-bumper-container"><div id="div-gpt-ad-1435246566686-3" class="article-bumper article-bumper-top" data-gpt-desktop="true" data-gpt-slot="topBumper" data-google-query-id="CMXV0_DGv_QCFenbcwEdsO0MjQ"><div id="google_ads_iframe_/2916070/dz2_bumper_text_ad_0__container__" style="border: 0pt none; display: inline-block; width: 100%; height: auto;"><iframe frameborder="0" src="./MQTT_TLS_files/container.html" id="google_ads_iframe_/2916070/dz2_bumper_text_ad_0" title="3rd party ad content" name="" scrolling="no" marginwidth="0" marginheight="0" width="0" height="129" data-is-safeframe="true" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" allow="attribution-reporting" data-google-container-id="3" style="border: 0px; vertical-align: bottom; min-width: 100%;" data-load-complete="true"></iframe></div></div></div>

                <div>
                  <div class="content-html"><p pid="55">MQTT is a lightweight and broadly used Internet protocol (see <a href="https://dzone.com/articles/mqtt-with-lwip-and-the-nxp-frdm-k64f">MQTT with lwIP and NXP FRDM-K64F Board</a>). And probably the majority of IoT applications today are using Mosquitto as a server (or ‘broker’ in MQTT language). By default, Mosquitto uses a protocol without encryption. In <a href="https://dzone.com/articles/iot-and-the-transport-security-layer">Introduction to Security and TLS (Transport Layer Security)</a>,&nbsp;I covered the basics and needs for encryption. This article is about how to enable Mosquitto and clients to use the TLS protocol.</p>
<p pid="3"><img alt="TLS Handshaking with certificates and keys" class="fr-fin fr-dib" data-attachment-id="21125" data-comments-opened="1" data-image-description="&amp;lt;p&amp;gt;TLS Handshaking with certificates and keys" data-image-meta="{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}" data-image-title="TLS Handshaking with certificates and keys" data-large-file="https://mcuoneclipse.files.wordpress.com/2017/04/tls-handshaking-with-certificates-and-keys.png?w=584&amp;h=548?w=584" data-medium-file="https://mcuoneclipse.files.wordpress.com/2017/04/tls-handshaking-with-certificates-and-keys.png?w=584&amp;h=548?w=300" data-orig-file="https://mcuoneclipse.files.wordpress.com/2017/04/tls-handshaking-with-certificates-and-keys.png?w=584&amp;h=548" data-orig-size="852,799" data-permalink="https://mcuoneclipse.com/2017/04/14/enable-secure-communication-with-tls-and-the-mosquitto-broker/tls-handshaking-with-certificates-and-keys/" height="548" sizes="(max-width: 584px) 100vw, 584px" src="./MQTT_TLS_files/tls-handshaking-with-certificates-and-keys.png" srcset="https://mcuoneclipse.files.wordpress.com/2017/04/tls-handshaking-with-certificates-and-keys.png?w=584&amp;h=548 584w, https://mcuoneclipse.files.wordpress.com/2017/04/tls-handshaking-with-certificates-and-keys.png?w=150&amp;h=141 150w, https://mcuoneclipse.files.wordpress.com/2017/04/tls-handshaking-with-certificates-and-keys.png?w=300&amp;h=281 300w, https://mcuoneclipse.files.wordpress.com/2017/04/tls-handshaking-with-certificates-and-keys.png?w=768&amp;h=720 768w, https://mcuoneclipse.files.wordpress.com/2017/04/tls-handshaking-with-certificates-and-keys.png 852w" width="584"></p>
<p pid="4" style="text-align: center;"><em>TLS Handshaking with certificates and keys</em></p>
<h2>Outline</h2>
<p pid="56">This article walks through the basic principles and settings to configure Mosquitto brokers and MQTT clients with the TLS (Transport Layer Security) protocol. TLS is the successor of SSL (Secure Sockets Layer)&nbsp;and is often used as a combination of TLS/SSL. To use TLS between the broker and the client, a set of keys and certificates has to be generated and deployed, along with configuration settings on the broker and the client.</p>
<p pid="57">In this article, I’m using the following set of software and tools:</p>
<ul>
 <li>Broker:&nbsp;<strong>Mosquitto</strong>&nbsp;version 1.4.11 (build date 20/02/2017)</li>
 <li>Key and certificate generation:&nbsp;<strong>OpenSSL</strong>&nbsp;1.0.2j&nbsp; 26 Sep 2016</li>
 <li>MQTT client:&nbsp;<strong>MQTT.fx</strong>&nbsp;1.3.1</li>
</ul>
<p pid="58">See <a href="https://dzone.com/articles/mqtt-with-lwip-and-the-nxp-frdm-k64f">MQTT with lwip and NXP FRDM-K64F Board</a>&nbsp;about how to install the above tools. On Windows, OpenSSL gets installed with the&nbsp;Mosquitto installer.</p>
<p pid="59">The steps are:</p>
<ol>
 <li>Create a&nbsp;<strong>CA key pair</strong></li>
 <li>Create&nbsp;<strong>CA certificate</strong>&nbsp;and sign it with the private key from step 1</li>
 <li>Create the&nbsp;<strong>broker key pair</strong></li>
 <li>Create a CA certificate&nbsp;<strong>sign request</strong>&nbsp;using the key from step 3</li>
 <li>Use the CA certificate from step 2 to&nbsp;<strong>sign the request</strong>&nbsp;from step 4</li>
</ol>
<blockquote>
 <p>&nbsp;It is important that you run the openssl tool in administrator mode!</p>
</blockquote>
<p pid="9"><img alt="Running as administrator" class="fr-fin fr-dib" data-attachment-id="21123" data-comments-opened="1" data-image-description="&amp;lt;p&amp;gt;Running as administrator" data-image-meta="{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}" data-image-title="Running as administrator" data-large-file="https://mcuoneclipse.files.wordpress.com/2017/04/running-as-administrator.png?w=584&amp;h=281?w=584" data-medium-file="https://mcuoneclipse.files.wordpress.com/2017/04/running-as-administrator.png?w=584&amp;h=281?w=300" data-orig-file="https://mcuoneclipse.files.wordpress.com/2017/04/running-as-administrator.png?w=584&amp;h=281" data-orig-size="899,432" data-permalink="https://mcuoneclipse.com/2017/04/14/enable-secure-communication-with-tls-and-the-mosquitto-broker/running-as-administrator/" height="281" sizes="(max-width: 584px) 100vw, 584px" src="./MQTT_TLS_files/running-as-administrator.png" srcset="https://mcuoneclipse.files.wordpress.com/2017/04/running-as-administrator.png?w=584&amp;h=281 584w, https://mcuoneclipse.files.wordpress.com/2017/04/running-as-administrator.png?w=150&amp;h=72 150w, https://mcuoneclipse.files.wordpress.com/2017/04/running-as-administrator.png?w=300&amp;h=144 300w, https://mcuoneclipse.files.wordpress.com/2017/04/running-as-administrator.png?w=768&amp;h=369 768w, https://mcuoneclipse.files.wordpress.com/2017/04/running-as-administrator.png 899w" width="584"></p>
<p pid="10" style="text-align: center;"><em>Running as administrator</em></p>
<p pid="60">On the broker, I need the following things:</p>
<ul>
 <li>Certificate from the CA (Certificate Authority)</li>
 <li>Server certificate, signed by the CA with its private key</li>
 <li>Server Private Key for decrypting of the incoming messages</li>
</ul>
<h2>Create CA Key Pair</h2>
<p pid="61">Run as administrator the following command:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 26px; min-width: 351.422px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0"><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">openssl</span> genrsa <span class="cm-attribute">-des3</span> <span class="cm-attribute">-out</span> m2mqtt_ca.key <span class="cm-number">2048</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 26px;"></div><div class="CodeMirror-gutters" style="height: 56px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="96"><br></p>
<p pid="62">Options used (see&nbsp;<a href="https://wiki.openssl.org/index.php/Manual:Genrsa(1)" target="_blank">https://wiki.openssl.org/index.php/Manual:Genrsa(1)</a>):</p>
<ul>
 <li><strong>genrsa</strong>: Generate an RSA private key</li>
 <li><strong>-des3</strong>: Using DES3 cipher for the key generation</li>
 <li><strong>-out</strong>: Specifies the output file name (.key)</li>
 <li><strong>2048</strong>: Number of bits for the private key</li>
</ul>
<p pid="63">Which gives:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 134px; min-width: 437.5px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>7</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">C:\tmp\ssl&gt;openssl genrsa <span class="cm-attribute">-des3</span> <span class="cm-attribute">-out</span> m2mqtt_ca.key <span class="cm-number">2048</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Generating RSA private key, <span class="cm-number">2048</span> bit long modulus</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">...................................<span class="cm-operator">+++</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">..<span class="cm-operator">+++</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">e is <span class="cm-number">65537</span> (0x10001)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Enter pass phrase <span class="cm-keyword">for</span> m2mqtt_ca.key:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Verifying <span class="cm-attribute">-</span> Enter pass phrase <span class="cm-keyword">for</span> m2mqtt_ca.key:</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 134px;"></div><div class="CodeMirror-gutters" style="height: 164px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="99"><br></p>
<p pid="64">The passphrase is used to protect the private key. The generated private file&nbsp;<strong>m2mqtt_ca.key</strong>&nbsp;looks like this and has both the private and public key:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 152px; min-width: 507.906px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">-----BEGIN RSA PRIVATE KEY-----</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Proc-Type: 4,ENCRYPTED</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">DEK-Info: DES-EDE3-CBC,F908DA05008A3132</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">alfCGiw0kcL7zfQvEBAE3gAs0o1IAbDtJpsJDok4Q9XlU+D8P8STQA0TFmhTCN1I</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;more text here&gt;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Lvme6Tl4b7kfFc3rvXf3tZwCVy8UOLzv9wbVdKwvwxnpm0ANKi8317vpbwb9Mrmy</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">-----END RSA PRIVATE KEY-----</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 152px;"></div><div class="CodeMirror-gutters" style="height: 182px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="105"><br></p>
<h2>Create CA Certificate</h2>
<p pid="65">Next, I’m creating a certificate for the CA using the key pair I created in step 1:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 26px; min-width: 562.766px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0"><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">openssl</span> req <span class="cm-attribute">-new</span> <span class="cm-attribute">-x509</span> <span class="cm-attribute">-days</span> <span class="cm-number">3650</span> <span class="cm-attribute">-key</span> m2mqtt_ca.key <span class="cm-attribute">-out</span> m2mqtt_ca.crt</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 26px;"></div><div class="CodeMirror-gutters" style="height: 56px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="100"><br></p>
<p pid="66">Options used (see<a href="https://wiki.openssl.org/index.php/Manual:Req(1)" target="_blank">&nbsp;https://wiki.openssl.org/index.php/Manual:Req(1)</a>):</p>
<ul>
 <li><strong>req</strong>: Certificate request and certification utility.</li>
 <li><strong>-new</strong>: Generate a new certificate. It will prompt the user for several input fields.</li>
 <li><strong>-x509</strong>: Create a self-signed certificate.</li>
 <li><strong>-days</strong>: Specify the number of days the certificate is valid.</li>
 <li><strong>-key</strong>: Key file with the private key to be used for signing.</li>
 <li><strong>-out</strong>: Specifies the file name for the certificate (.crt).</li>
</ul>
<p pid="67">This generates a certificate certificate (<strong>m2mqtt_ca.crt</strong>). I have to provide an additional passphrase for the PEM (container for multiple items, see&nbsp;<a href="http://how2ssl.com/articles/working_with_pem_files/" target="_blank">http://how2ssl.com/articles/working_with_pem_files/</a>).</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px; width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 296px; min-width: 648.844px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>16</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">C:\tmp\ssl&gt;openssl req <span class="cm-attribute">-new</span> <span class="cm-attribute">-x509</span> <span class="cm-attribute">-days</span> <span class="cm-number">3650</span> <span class="cm-attribute">-key</span> m2mqtt_ca.key <span class="cm-attribute">-out</span> m2mqtt_ca.crt</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Enter pass phrase <span class="cm-keyword">for</span> m2mqtt_ca.key:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">You are about to be asked to enter information that will be incorporated</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">into your certificate request.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">What you are about to enter is what is called a Distinguished Name or a DN.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">There are quite a few fields but you can leave some blank</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">For some fields there will be a default value,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">If you enter <span class="cm-string">'.'</span>, the field will be left blank.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">-----</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Country Name (2 letter code) [AU]:CH</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">State or Province Name (full name) [Some-State]:Switzerland</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Locality Name (eg, city) []:Lucerne</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Organization Name (eg, company) [Internet Widgits Pty Ltd]:HSLU</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Organizational Unit Name (eg, section) []:T&amp;A</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Common Name (e.g. server FQDN or YOUR name) []:ErichStyger-PC</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Email Address []:mail@hslu.ch</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 296px;"></div><div class="CodeMirror-gutters" style="height: 326px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="97"><br></p>
<p pid="68">As a common name, I give the name of my host PC (which is acting as the CA for me). The generated certificate&nbsp;<strong>m2mqtt_ca.crt</strong>&nbsp;looks like this:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 98px; min-width: 507.906px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>5</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">-----BEGIN CERTIFICATE-----</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">MIID6DCCAtCgAwIBAgIJAP8FtRqBHYWxMA0GCSqGSIb3DQEBCwUAMIGIMQswCQYD</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;some more text here&gt;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">x9uEvaymIwyH7HNUOi9K3ycizDvCBSASPJ+XGHK/r6cPOybzNzTG6bLrg08=</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">-----END CERTIFICATE-----</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 98px;"></div><div class="CodeMirror-gutters" style="height: 128px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="101"><br></p>
<p pid="69">On Windows, I can use the Certificate viewer to inspect it:</p>
<p pid="21"><img alt="Windows Certificate Viewer" class="fr-fin fr-dib" data-attachment-id="21122" data-comments-opened="1" data-image-description="&amp;lt;p&amp;gt;Windows Certificate Viewer" data-image-meta="{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}" data-image-title="Windows Certificate Viewer" data-large-file="https://mcuoneclipse.files.wordpress.com/2017/04/windows-certificate-viewer.png?w=584?w=405" data-medium-file="https://mcuoneclipse.files.wordpress.com/2017/04/windows-certificate-viewer.png?w=584?w=236" data-orig-file="https://mcuoneclipse.files.wordpress.com/2017/04/windows-certificate-viewer.png?w=584" data-orig-size="405,515" data-permalink="https://mcuoneclipse.com/2017/04/14/enable-secure-communication-with-tls-and-the-mosquitto-broker/windows-certificate-viewer/" sizes="(max-width: 405px) 100vw, 405px" src="./MQTT_TLS_files/windows-certificate-viewer.png" srcset="https://mcuoneclipse.files.wordpress.com/2017/04/windows-certificate-viewer.png 405w, https://mcuoneclipse.files.wordpress.com/2017/04/windows-certificate-viewer.png?w=118 118w, https://mcuoneclipse.files.wordpress.com/2017/04/windows-certificate-viewer.png?w=236 236w"></p>
<p pid="22" style="text-align: center;"><em>Windows Certificate Viewer</em></p>
<h2>Create a&nbsp;Mosquitto Broker Key Pair</h2>
<p pid="70">Next, I’m creating a private key for the server (<strong>m2mqtt_srv.key</strong>) with:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 26px; min-width: 312.281px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0"><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">openssl</span> genrsa <span class="cm-attribute">-out</span> m2mqtt_srv.key <span class="cm-number">2048</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 26px;"></div><div class="CodeMirror-gutters" style="height: 56px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="98"><br></p>
<p pid="71">Options used (see&nbsp;<a href="https://wiki.openssl.org/index.php/Manual:Genrsa(1)" target="_blank">https://wiki.openssl.org/index.php/Manual:Genrsa(1)</a>):</p>
<ul>
 <li><strong>genrsa</strong>: Generate an RSA private key.</li>
 <li><strong>-out</strong>: Specifies the output file name (.key).</li>
 <li><strong>2048</strong>: Number of bits for the private key.</li>
</ul>
<blockquote>
 <p>&nbsp;Note that I’m not using the -des3 option, as otherwise the key will be password protected, and I would have to enter this password when I start the broker. Not something I want.</p>
</blockquote>
<p pid="72">Which gives:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 116px; min-width: 398.359px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>6</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">C:\tmp\ssl&gt;openssl genrsa <span class="cm-attribute">-out</span> m2mqtt_srv.key <span class="cm-number">2048</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Generating RSA private key, <span class="cm-number">2048</span> bit long modulus</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">........................<span class="cm-operator">++++++</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">..........<span class="cm-operator">++++++</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">e is <span class="cm-number">65537</span> (0x10001)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 116px;"></div><div class="CodeMirror-gutters" style="height: 146px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<blockquote>
 <p>&nbsp;If you get a “unable to write ‘random state'” in the output, make sure you run the command prompt as Administrator!</p>
</blockquote>
<p pid="73">The private key file looks like this:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 98px; min-width: 507.906px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>5</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">-----BEGIN RSA PRIVATE KEY-----</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">MIIEpAIBAAKCAQEA4PZ20QWql4IU0RFO6NCCqjQgWnXa3P8Coyy20tmc2bnfZBcY</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;more text here&gt;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ub3uwTWCLTbpHP8AueLJlTMWU/en88Ed4T2hXMRnzetmKWMsJ9XW3g==</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">-----END RSA PRIVATE KEY-----</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 98px;"></div><div class="CodeMirror-gutters" style="height: 128px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="106"><br></p>
<h2>Create Certificate Request from CA</h2>
<p pid="74">That key we need to be certified, so we create a certificate request for it, and the certificate needs to be signed by the CA:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 26px; min-width: 445.344px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0"><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">openssl</span> req <span class="cm-attribute">-new</span> <span class="cm-attribute">-out</span> m2mqtt_srv.csr <span class="cm-attribute">-key</span> m2mqtt_srv.key</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 26px;"></div><div class="CodeMirror-gutters" style="height: 56px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="107"><br></p>
<p pid="75">Parameters used (see<a href="https://wiki.openssl.org/index.php/Manual:Req(1)">&nbsp;https://wiki.openssl.org/index.php/Manual:Req(1)</a>):</p>
<ul>
 <li><strong>req</strong>: Certificate request and certification utility.</li>
 <li><strong>-new</strong>: Create new request file file.</li>
 <li><strong>-out</strong>: File name for the certificate signing request (.csr).</li>
 <li><strong>-key</strong>: File name of the key to be certified.</li>
</ul>
<p pid="76">Which gives:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px; width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 368px; min-width: 594px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>20</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">C:\tmp\ssl&gt;openssl req <span class="cm-attribute">-new</span> <span class="cm-attribute">-out</span> m2mqtt_srv.csr <span class="cm-attribute">-key</span> m2mqtt_srv.key</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">You are about to be asked to enter information that will be incorporated</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">into your certificate request.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">What you are about to enter is what is called a Distinguished Name or a DN.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">There are quite a few fields but you can leave some blank</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">For some fields there will be a default value,</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">If you enter <span class="cm-string">'.'</span>, the field will be left blank.</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-attribute">-----</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Country Name (2 letter code) [AU]:CH</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">State or Province Name (full name) [Some-State]:Switzerland</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Locality Name (eg, city) []:Lucerne</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Organization Name (eg, company) [Internet Widgits Pty Ltd]:HSLU</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Organizational Unit Name (eg, section) []:T&amp;A</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Common Name (e.g. server FQDN or YOUR name) []:ErichStyger-PC</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Email Address []:mail@hslu.ch</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Please enter the following <span class="cm-string">'extra'</span> attributes</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">to be sent with your certificate request</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">A challenge password []:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">An optional company name []:</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 368px;"></div><div class="CodeMirror-gutters" style="height: 398px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="102"><br></p>
<p pid="77">I’m using ‘ErichStyger-PC’ because this is the machine that will run the broker.</p>
<p pid="78">This creates the&nbsp;<strong>m2mqtt_srv.csr</strong>&nbsp;(Certificate sign request) which looks like this:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 116px; min-width: 507.906px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>6</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">-----BEGIN CERTIFICATE REQUEST-----</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">MIICzjCCAbYCAQAwgYgxCzAJBgNVBAYTAkNIMRQwEgYDVQQIDAtTd2l0emVybGFu</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;more text here&gt;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">4PwJlZU81GN+fLwR01iTT6MhwjbKNouPjtMsI30SpPZxhNIBrsSYdESD/Abp+g3j</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Bv0=</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">-----END CERTIFICATE REQUEST-----</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 116px;"></div><div class="CodeMirror-gutters" style="height: 146px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="108"><br></p>
<h2>Verify and Sign the Certificate Request</h2>
<p pid="79">The last step is to sign the server request through the CA to get the broker certificate:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="display: block; right: 0px; left: 31px; height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 962px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 26px; min-width: 961.953px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0"><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">openssl</span> x509 <span class="cm-attribute">-req</span> <span class="cm-attribute">-in</span> m2mqtt_srv.csr <span class="cm-attribute">-CA</span> m2mqtt_ca.crt <span class="cm-attribute">-CAkey</span> m2mqtt_ca.key <span class="cm-attribute">-CAcreateserial</span> <span class="cm-attribute">-out</span> m2mqtt_srv.crt <span class="cm-attribute">-days</span> <span class="cm-number">3650</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 26px;"></div><div class="CodeMirror-gutters" style="height: 56px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="109"><br></p>
<p pid="80">With the following options (see&nbsp;<a href="https://wiki.openssl.org/index.php/Manual:X509(1)">https://wiki.openssl.org/index.php/Manual:X509(1)</a>):</p>
<ul>
 <li><strong>x509</strong>: Certificate display and signing utility.</li>
 <li><strong>-req</strong>: A certificate request is expected as the input.</li>
 <li><strong>-in</strong>: Input file for the certificate.</li>
 <li><strong>-CA</strong>: Specifies the file to be signed.</li>
 <li><strong>-CAkey</strong>: CA private key to sign the certificate with.</li>
 <li><strong>-Cacreateserial</strong>: The serial number file gets created if it does not exist.</li>
 <li><strong>-out</strong>: Output file name.</li>
 <li><strong>-days</strong>: How long the certificate shall be valid.</li>
</ul>
<p pid="81">Which gives:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="display: block; right: 0px; left: 31px; height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 1048px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 98px; min-width: 1048.03px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>5</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">C:\tmp\ssl&gt;openssl x509 <span class="cm-attribute">-req</span> <span class="cm-attribute">-in</span> m2mqtt_srv.csr <span class="cm-attribute">-CA</span> m2mqtt_ca.crt <span class="cm-attribute">-CAkey</span> m2mqtt_ca.key <span class="cm-attribute">-CAcreateserial</span> <span class="cm-attribute">-out</span> m2mqtt_srv.crt <span class="cm-attribute">-days</span> <span class="cm-number">3650</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Signature ok</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">subject</span><span class="cm-operator">=</span><span class="cm-def">/C</span><span class="cm-operator">=</span>CH<span class="cm-def">/ST</span><span class="cm-operator">=</span>Switzerland<span class="cm-def">/L</span><span class="cm-operator">=</span>Lucerne<span class="cm-def">/O</span><span class="cm-operator">=</span>HSLU<span class="cm-def">/OU</span><span class="cm-operator">=</span>T&amp;A<span class="cm-def">/CN</span><span class="cm-operator">=</span>ErichStyger-PC<span class="cm-def">/emailAddress</span><span class="cm-operator">=</span>mail@hslu.ch</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Getting CA Private Key</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Enter pass phrase <span class="cm-keyword">for</span> m2mqtt_ca.key:</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 98px;"></div><div class="CodeMirror-gutters" style="height: 128px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="103"><br></p>
<p pid="82">The output file looks like this:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 116px; min-width: 507.906px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>6</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">-----BEGIN CERTIFICATE-----</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">MIIDBjCCAe4CCQDiXkSmKAt/BDANBgkqhkiG9w0BAQsFADBFMQswCQYDVQQGEwJD</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">&lt;more lines here&gt;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">OezkwBv5rqmBajfux+DasTjXg1Cfe7QcRdSYrnwLMYAIjkpT8LCGvQLxdxjyF8X3</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">2LWbh6UQSitcVw==</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">-----END CERTIFICATE-----</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 116px;"></div><div class="CodeMirror-gutters" style="height: 146px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="110"><br></p>
<h2>Files</h2>
<p pid="83">This has created the following files:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 116px; min-width: 492.266px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>6</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">m2mqtt_ca.crt  : CA Certificate</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">m2mqtt_ca.key  : CA key pair (private, public)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">m2mqtt_ca.srl  : CA serial number file</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">m2mqtt_srv.crt : server certificate</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">m2mqtt_srv.csr : certificate sign request, not needed any more</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">m2mqtt_srv.key : server key pair</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 116px;"></div><div class="CodeMirror-gutters" style="height: 146px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="104"><br></p>
<p pid="84">Inside the Mosquitto installation, create a folder (e.g. ‘certs’ if it does not already exist) and copy the following files we have created in the previous steps:</p>
<ul>
 <li>&lt;mosquitto&gt;/certs/m2mqtt_ca.crt</li>
 <li>&lt;mosquitto&gt;/certs/m2mqtt_srv.crt</li>
 <li>&lt;mosquitto&gt;/certs/m2mqtt_srv.key</li>
</ul>
<p pid="85">The&nbsp;ca.crt&nbsp;belongs to the client (needs to be copied there).</p>
<h2>Mosquitto Configuration</h2>
<p pid="86">Using a text editor, open and edit &lt;mosquitto&gt;/mosquitto.conf:</p>
<blockquote>
 <p>&nbsp;Under Windows, make sure you have administrative rights to edit the configuration file. Best if you edit a copy outside of the c:/program files folder (where Mosquitto is installed by default) and copy the file into the program file folder.</p>
</blockquote>
<p pid="87">Use port 8883 as default port:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px; width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 224px; min-width: 531.391px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>12</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># =================================================================</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># Default listener</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># =================================================================</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># IP address/hostname to bind the default listener to. If not</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># given, the default listener will not be bound to a specific </span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># address and so will be accessible to all network interfaces.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># bind_address ip-address/host name</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#bind_address</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># Port to use for the default listener.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">port 8883</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 224px;"></div><div class="CodeMirror-gutters" style="height: 254px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="111"><br></p>
<p pid="88">Specify the certificate and key files:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="bottom: 0px; width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none; right: 0px; left: 31px;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 602px; min-width: 625.312px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># -----------------------------------------------------------------</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># Certificate based SSL/TLS support</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># -----------------------------------------------------------------</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># The following options can be used to enable SSL/TLS support for </span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># this listener. Note that the recommended port for MQTT over TLS</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># is 8883, but this must be set manually.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># See also the mosquitto-tls man page.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># At least one of cafile or capath must be defined. They both </span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># define methods of accessing the PEM encoded Certificate </span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># Authority certificates that have signed your server certificate </span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># and that you wish to trust.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># cafile defines the path to a file containing the CA certificates.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># capath defines a directory that will be searched for files</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># containing the CA certificates. For capath to work correctly, the</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># certificate files must have ".crt" as the file ending and you must run</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># "c_rehash &lt;path to capath&gt;" each time you add/remove a certificate.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#capath</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">cafile C</span>:<span class="cm-quote">\Program Files (x86)\mosquitto\certs\m2mqtt_ca.crt</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># Path to the PEM encoded server certificate.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">certfile C</span>:<span class="cm-quote">\Program Files (x86)\mosquitto\certs\m2mqtt_srv.crt</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">24</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">25</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># Path to the PEM encoded keyfile.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">26</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">keyfile C</span>:<span class="cm-quote">\Program Files (x86)\mosquitto\certs\m2mqtt_srv.key</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">27</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">28</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># This option defines the version of the TLS protocol to use for this listener.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">29</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># The default value allows v1.2, v1.1 and v1.0, if they are all supported by</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">30</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># the version of openssl that the broker was compiled against. For openssl &gt;=</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">31</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 1.0.1 the valid values are tlsv1.2 tlsv1.1 and tlsv1. For openssl &lt; 1.0.1 the</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">32</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># valid values are tlsv1.</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">33</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">tls_version tlsv1</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 602px;"></div><div class="CodeMirror-gutters" style="height: 632px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="112"><br></p>
<h2>Mosquitto</h2>
<p pid="89">I launch my local Mosquitto broker with the -c option pointing to the modified configuration file:</p>
<div><div class="CodeMirror cm-s-default"><div class="CodeMirror-vscrollbar" cm-not-content="true" style="width: 18px; pointer-events: none;"><div style="min-width: 1px; height: 0px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true" style="height: 18px; pointer-events: none;"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 31px; margin-bottom: 0px; border-right-width: 30px; min-height: 26px; min-width: 241.828px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation" autocorrect="off" autocapitalize="off" spellcheck="false" contenteditable="false" tabindex="0"><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" contenteditable="false" style="left: -31px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 23px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">mosquitto <span class="cm-attribute">-c</span> mosquitto.conf <span class="cm-attribute">-v</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px; border-bottom: 0px solid transparent; top: 26px;"></div><div class="CodeMirror-gutters" style="height: 56px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 31px;"></div></div></div></div></div>
<p pid="113"><br></p>
<p pid="90">This launches the broker listening on the secure port 8883:</p>
<p pid="44"><img alt="mosquitto listening on port 8883" class="fr-fin fr-dib" data-attachment-id="21082" data-comments-opened="1" data-image-description="&amp;lt;p&amp;gt;mosquitto listening on port 8883" data-image-meta="{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}" data-image-title="mosquitto listening on port 8883" data-large-file="https://mcuoneclipse.files.wordpress.com/2017/04/mosquitto-listening-on-port-8883.png?w=584&amp;h=124?w=584" data-medium-file="https://mcuoneclipse.files.wordpress.com/2017/04/mosquitto-listening-on-port-8883.png?w=584&amp;h=124?w=300" data-orig-file="https://mcuoneclipse.files.wordpress.com/2017/04/mosquitto-listening-on-port-8883.png?w=584&amp;h=124" data-orig-size="745,158" data-permalink="https://mcuoneclipse.com/2017/04/14/enable-secure-communication-with-tls-and-the-mosquitto-broker/mosquitto-listening-on-port-8883/" height="124" sizes="(max-width: 584px) 100vw, 584px" src="./MQTT_TLS_files/mosquitto-listening-on-port-8883.png" srcset="https://mcuoneclipse.files.wordpress.com/2017/04/mosquitto-listening-on-port-8883.png?w=584&amp;h=124 584w, https://mcuoneclipse.files.wordpress.com/2017/04/mosquitto-listening-on-port-8883.png?w=150&amp;h=32 150w, https://mcuoneclipse.files.wordpress.com/2017/04/mosquitto-listening-on-port-8883.png?w=300&amp;h=64 300w, https://mcuoneclipse.files.wordpress.com/2017/04/mosquitto-listening-on-port-8883.png 745w" width="584"></p>
<p pid="45" style="text-align: center;"><em>Mosquitto listening on port 8883</em></p>
<h2>Server Certificate for the Client</h2>
<p pid="91">In the client (e.g.&nbsp;MQTT.fx), I have to load the certificate of the server:</p>
<p pid="47"><img alt="Configured Server Certificate in MQTT Client" class="fr-fin fr-dib" data-attachment-id="21080" data-comments-opened="1" data-image-description="&amp;lt;p&amp;gt;Configured Server Certificate in MQTT Client" data-image-meta="{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}" data-image-title="Configured Server Certificate in MQTT Client" data-large-file="https://mcuoneclipse.files.wordpress.com/2017/04/configured-server-certificate-in-mqtt-client.png?w=584&amp;h=439?w=584" data-medium-file="https://mcuoneclipse.files.wordpress.com/2017/04/configured-server-certificate-in-mqtt-client.png?w=584&amp;h=439?w=300" data-orig-file="https://mcuoneclipse.files.wordpress.com/2017/04/configured-server-certificate-in-mqtt-client.png?w=584&amp;h=439" data-orig-size="1026,772" data-permalink="https://mcuoneclipse.com/2017/04/14/enable-secure-communication-with-tls-and-the-mosquitto-broker/configured-server-certificate-in-mqtt-client/" height="439" sizes="(max-width: 584px) 100vw, 584px" src="./MQTT_TLS_files/configured-server-certificate-in-mqtt-client.png" srcset="https://mcuoneclipse.files.wordpress.com/2017/04/configured-server-certificate-in-mqtt-client.png?w=584&amp;h=439 584w, https://mcuoneclipse.files.wordpress.com/2017/04/configured-server-certificate-in-mqtt-client.png?w=150&amp;h=113 150w, https://mcuoneclipse.files.wordpress.com/2017/04/configured-server-certificate-in-mqtt-client.png?w=300&amp;h=226 300w, https://mcuoneclipse.files.wordpress.com/2017/04/configured-server-certificate-in-mqtt-client.png?w=768&amp;h=578 768w, https://mcuoneclipse.files.wordpress.com/2017/04/configured-server-certificate-in-mqtt-client.png?w=1024&amp;h=770 1024w, https://mcuoneclipse.files.wordpress.com/2017/04/configured-server-certificate-in-mqtt-client.png 1026w" width="584"></p>
<p pid="48" style="text-align: center;"><em>Configured Server Certificate in MQTT Client</em></p>
<p pid="92">With this, I can connect to the broker in a secure way:</p>
<p pid="50" style="text-align: center;"><img alt="Client connected to Port 8883 to broker" class="fr-fin fr-dib" data-attachment-id="21083" data-comments-opened="1" data-image-description="&amp;lt;p&amp;gt;Client connected to Port 8883 to broker" data-image-meta="{&amp;quot;aperture&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;credit&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;camera&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;caption&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;created_timestamp&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;copyright&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;focal_length&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;iso&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;shutter_speed&amp;quot;:&amp;quot;0&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;orientation&amp;quot;:&amp;quot;0&amp;quot;}" data-image-title="Client connected to Port 8883 to broker" data-large-file="https://mcuoneclipse.files.wordpress.com/2017/04/client-connected-to-port-8883-to-broker.png?w=584&amp;h=160?w=584" data-medium-file="https://mcuoneclipse.files.wordpress.com/2017/04/client-connected-to-port-8883-to-broker.png?w=584&amp;h=160?w=300" data-orig-file="https://mcuoneclipse.files.wordpress.com/2017/04/client-connected-to-port-8883-to-broker.png?w=584&amp;h=160" data-orig-size="745,204" data-permalink="https://mcuoneclipse.com/2017/04/14/enable-secure-communication-with-tls-and-the-mosquitto-broker/client-connected-to-port-8883-to-broker/" height="160" sizes="(max-width: 584px) 100vw, 584px" src="./MQTT_TLS_files/client-connected-to-port-8883-to-broker.png" srcset="https://mcuoneclipse.files.wordpress.com/2017/04/client-connected-to-port-8883-to-broker.png?w=584&amp;h=160 584w, https://mcuoneclipse.files.wordpress.com/2017/04/client-connected-to-port-8883-to-broker.png?w=150&amp;h=41 150w, https://mcuoneclipse.files.wordpress.com/2017/04/client-connected-to-port-8883-to-broker.png?w=300&amp;h=82 300w, https://mcuoneclipse.files.wordpress.com/2017/04/client-connected-to-port-8883-to-broker.png 745w" width="584"></p>
<p pid="51" style="text-align: center;">Client connected to Port 8883 to broker</p>
<h2>Summary</h2>
<p pid="93">Establishing a secure TLS connection to the Mosquitto broker requires key and certificate files. Creating all these files with the correct settings is not the easiest thing, but is rewarded with a secure way to communicate with the MQTT broker.</p>
<p pid="94">In a next article, I plan to write about how to use TLS with lwIP and the mbedTLS library on the NXP FRDM-K64F board.</p>
<p pid="95">Happy encrypting!</p></div>
                </div>

                  <div id="bottom-bumper-container"><div id="div-gpt-ad-1435246566686-4" class="article-bumper article-bumper-bottom" data-gpt-desktop="true" data-gpt-slot="bottomBumper" data-google-query-id="CIKLqYzKv_QCFbZLfQodVFEOVg"><div id="google_ads_iframe_/2916070/dz2_bumper_text_ad_1__container__" style="border: 0pt none; display: inline-block; width: 100%; height: auto;"><iframe frameborder="0" src="./MQTT_TLS_files/container(1).html" id="google_ads_iframe_/2916070/dz2_bumper_text_ad_1" title="3rd party ad content" name="" scrolling="no" marginwidth="0" marginheight="0" width="0" height="133" data-is-safeframe="true" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" allow="attribution-reporting" data-google-container-id="5" style="border: 0px; vertical-align: bottom; min-width: 100%;" data-load-complete="true"></iframe></div></div></div>

                  <div class="article-topics">
                    <div class="topic-label">Topics:</div>
                    <div class="topics">
                        <span class="topics-tag">iot,</span>
                        <span class="topics-tag">iot security,</span>
                        <span class="topics-tag">mqtt,</span>
                        <span class="topics-tag">mosquitto,</span>
                        <span class="topics-tag">tls,</span>
                        <span class="topics-tag">tutorial</span>
                    </div>
                  </div>

                  <div class="attribution">
                      <p>Published at DZone with permission of <span>Erich Styger<span>, DZone MVB</span></span>.
                        <span>
                          <a href="http://mcuoneclipse.com/2017/04/14/enable-secure-communication-with-tls-and-the-mosquitto-broker/" target="_blank">See the original article here.
                            <i class="icon-link-ext-alt"></i>
                          </a>
                        </span>
                      </p>
                    <p>Opinions expressed by DZone contributors are their own.</p>
                  </div>

                    <div class="related">
                      <h3>Popular on DZone</h3>
                      <ul>
                          <li class="relateddiv">
                            <a href="https://dzone.com/articles/going-beyond-java-8-text-blocks?fromrel=true">Going Beyond Java 8: Text Blocks</a>
                          </li>
                          <li class="relateddiv">
                            <a href="https://dzone.com/articles/flight-recorder-examining-java-and-kotlin-apps?fromrel=true">Flight Recorder: Examining Java and Kotlin Apps</a>
                          </li>
                          <li class="relateddiv">
                            <a href="https://dzone.com/articles/the-best-vs-code-extensions-to-supercharge-git?fromrel=true">The Best VS Code Extensions to Supercharge Git</a>
                          </li>
                          <li class="relateddiv">
                            <a href="https://dzone.com/articles/fast-spring-boot-aws-lambdas-with-graalvm?fromrel=true">Fast Spring Boot AWS Lambdas with GraalVM</a>
                          </li>
                      </ul>
                    </div>

<div class="comments-overlay"></div>
<div id="comment-box">
  <div class="comment-box-wrapper">
    <div id="comment-input-editor"></div>
  </div>
  <div class="info hidden"></div>
  <div class="comments-content">
    <div class="comment-header">
      <hr>
      <span class="icon-comment">
        <span class="numOfComments"></span> Comments
      </span>
    </div>
    <div class="comments"></div>
  </div>
</div>
            </div></article>
          </div>

            <div id="above-pr-ad" class="bottom-ad-container">
              <div id="div-gpt-ad-1435246566686-11" data-gpt-slot="bottom" data-google-query-id="CNK6_IzKv_QCFVQiKwodvIEDcQ"><div id="google_ads_iframe_/2916070/dz2_article_leaderboard_3_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/2916070/dz2_article_leaderboard_3_0" title="3rd party ad content" name="google_ads_iframe_/2916070/dz2_article_leaderboard_3_0" width="970" height="90" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" allow="attribution-reporting" style="border: 0px; vertical-align: bottom;" data-google-container-id="6" data-load-complete="true" src="./MQTT_TLS_files/saved_resource(2).html"></iframe></div></div>
            </div>
            <div class="layout-card widget-top-border partner-resources-block" style="width:100%; margin-bottom: 1em;">
              <div class="main-container">
                <div class="featured-header">
                  <h2>
                      IoT<span> Partner Resources</span>
                  </h2>
                </div>
                <div class="partner-resources-container">
                  <div id="div-gpt-ad-1435246566686-5" class="resource-block" data-gpt-slot="partner" data-gpt-position="pr1" data-google-query-id="CKiWsY3Kv_QCFYsVcgodHLAKeQ"><div id="google_ads_iframe_/2916070/dz2_partner_resource_link_0__container__" style="border: 0pt none; display: inline-block; width: 100%; height: auto;"><iframe frameborder="0" src="./MQTT_TLS_files/container(2).html" id="google_ads_iframe_/2916070/dz2_partner_resource_link_0" title="3rd party ad content" name="" scrolling="no" marginwidth="0" marginheight="0" width="0" height="93" data-is-safeframe="true" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" allow="attribution-reporting" data-google-container-id="7" style="border: 0px; vertical-align: bottom; min-width: 100%;" data-load-complete="true"></iframe></div></div>
                  <div id="div-gpt-ad-1435246566686-6" class="resource-block" data-gpt-slot="partner" data-gpt-position="pr2" data-google-query-id="CI3utI3Kv_QCFaKDSwUdRpgAMw" style="display: none;"><div id="google_ads_iframe_/2916070/dz2_partner_resource_link_1__container__" style="border: 0pt none;"></div></div>
                  <div id="div-gpt-ad-1435246566686-7" class="resource-block" data-gpt-slot="partner" data-gpt-position="pr3" data-google-query-id="CIW9tI3Kv_QCFQRxfQodI5MMdA"><div id="google_ads_iframe_/2916070/dz2_partner_resource_link_2__container__" style="border: 0pt none; display: inline-block; width: 100%; height: auto;"><iframe frameborder="0" src="./MQTT_TLS_files/container(3).html" id="google_ads_iframe_/2916070/dz2_partner_resource_link_2" title="3rd party ad content" name="" scrolling="no" marginwidth="0" marginheight="0" width="0" height="102" data-is-safeframe="true" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" allow="attribution-reporting" data-google-container-id="b" style="border: 0px; vertical-align: bottom; min-width: 100%;" data-load-complete="true"></iframe></div></div>
                  <div id="div-gpt-ad-1435246566686-8" class="resource-block" data-gpt-slot="partner" data-gpt-position="pr4" data-google-query-id="CLyms43Kv_QCFdAfcgod7S4O7Q" style="display: none;"><div id="google_ads_iframe_/2916070/dz2_partner_resource_link_3__container__" style="border: 0pt none;"></div></div>
                  <div id="div-gpt-ad-1435246566686-9" class="resource-block" data-gpt-slot="partner" data-gpt-position="pr5" data-google-query-id="COzMs43Kv_QCFZdKKwodl94OEw" style="display: none;"><div id="google_ads_iframe_/2916070/dz2_partner_resource_link_4__container__" style="border: 0pt none;"></div></div>
                  <div id="div-gpt-ad-1435246566686-10" class="resource-block" data-gpt-slot="partner" data-gpt-position="pr6" data-google-query-id="CKOMso3Kv_QCFZgWcgodpmkBig" style="display: none;"><div id="google_ads_iframe_/2916070/dz2_partner_resource_link_5__container__" style="border: 0pt none;"></div></div>
                </div>
              </div>
            </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade bd-example-modal-lg" id="modal-message" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header"></div>
        <div class="modal-body"></div>
      </div>
    </div>
  </div>
</div>

<script async="">const articleTitle = 'Secure Communication With TLS and the Mosquitto Broker'
const articleUrl = 'https://dzone.com/articles/secure-communication-with-tls-and-the-mosquitto-broker'

const retweetLink = document.querySelector('#tweet-link')

function retweet(event) {
    event.preventDefault()
    event.stopPropagation()

    const twitter = 'https://twitter.com/intent/tweet'
    const params = '?text=' + encodeURIComponent(articleTitle) + '&url=' + articleUrl + '&ref=dzone.com&via=DZoneInc'
    const win = window.open(twitter + params, '_blank')
    win.focus()
}

retweetLink.addEventListener('click', retweet);

function showStatusMessage(options) {
  var modal = document.getElementById("modal-message");

  if(modal) {
    modal.classList.add(options.type);
    var modalBody = modal.querySelector(".modal-content .modal-body");
    var modalHeader = modal.querySelector(".modal-content .modal-header");

    modalHeader.innerText = options.header ? options.header : "";
    modalBody.innerText = options.body ? options.body : "" ;

    $(modal).modal("show");

    $(modal).on('hidden.bs.modal', function () {
      modal.classList.remove(options.type);
    });
  }
}

function showConfirmMessage(options) {
  var modal = document.getElementById("modal-message");

  if(modal) {
    modal.classList.add(options.type);
    var modalBody = modal.querySelector(".modal-content .modal-body");
    var modalHeader = modal.querySelector(".modal-content .modal-header");

    modalHeader.innerText = options.header ? options.header : "";
    modalBody.innerText = options.body ? options.body : "" ;

    if (options.textarea) {
      const textareaDiv = document.createElement('div')
      const textareaLabel = document.createElement('label')
      textareaLabel.setAttribute('for', 'modal-textarea')
      textareaLabel.innerText = options.textarea.label

      const textarea = document.createElement('textarea')
      textarea.id = 'modal-textarea'
      textarea.placeholder = (options.textarea.placeholder || '')
      textarea.setAttribute('rows', (options.textarea.rows || 3))
      textarea.classList.add('form-control', 'not-resizable')

      if (options.textarea.maxlength) {
        textarea.maxLength = options.textarea.maxlength
      }

      textareaDiv.appendChild(textareaLabel)
      textareaDiv.appendChild(textarea)
      modalBody.appendChild(textareaDiv)
    }

    var btnContainer = document.createElement("div");
    btnContainer.classList.add("btn-container");

    var noBtn = document.createElement("button");
    noBtn.innerText = options.noBtnText ? options.noBtnText : "No";
    noBtn.classList.add("no-btn");

    var yesBtn = document.createElement("button");
    yesBtn.innerText = options.yesBtnText ? options.yesBtnText : "Yes";
    yesBtn.classList.add("yes-btn");

    btnContainer.appendChild(noBtn);
    btnContainer.appendChild(yesBtn);

    modalBody.appendChild(btnContainer);

    $(modal).modal("show");

    $(noBtn).one("click", function() {
      $(modal).modal("hide");

      if(options.noCallback) {
        $(modal).one('hidden.bs.modal', function () {
          options.noCallback();
        });
      }
    });

    $(yesBtn).one("click", function() {
      $(modal).modal("hide");

      if(options.yesCallback) {
        $(modal).one('hidden.bs.modal', function () {
          options.yesCallback();
        });
      }
    });

    $(modal).on('hidden.bs.modal', function () {
      modal.classList.remove(options.type);
    });
  }
}
</script><link rel="stylesheet" media="all" href="./MQTT_TLS_files/styles(3).css">

<div id="ftl-footer">
  <div class="container-fluid footerOuter">
    <div class="row">
      <div class="col-md-12">
        <div class="container">
          <div class="row footer">
            <div class="col-md-12 footerWidget">
              <div class="row footerContainer footer">
                <div class="left col-xs-12 col-sm-7">
                  <div class="col-xs-12 social-media-icons footer-mobile">
                    <ul class="icons-only">
                      <li class="rss-icon" id="rss-footer-1">
                        <a href="https://dzone.com/pages/feeds" target="_blank" rel="noreferrer noopener">
                          <i class="icon-rss-1"></i>
                        </a>
                      </li>
                      <li class="twitter-icon">
                        <a href="https://twitter.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                          <i class="icon-twitter"></i>
                        </a>
                      </li>
                      <li class="facebook-icon">
                        <a href="https://www.facebook.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                          <i class="icon-facebook-1"></i>
                        </a>
                      </li>
                      <li class="google-icon">
                        <a href="https://plus.google.com/+dzone/posts" target="_blank" rel="noreferrer noopener">
                          <i class="icon-gplus"></i>
                        </a>
                      </li>
                      <li class="linkedin-icon">
                        <a href="https://www.linkedin.com/company/dzone/" target="_blank" rel="noreferrer noopener">
                          <i class="icon-linkedin-1"></i>
                        </a>
                      </li>
                    </ul>
                  </div>

                  <div class="top-section col-xs-12">
                    <div class="col-xs-12 col-sm-6">
                      <p class="section-header">ABOUT US</p>
                      <ul class="link-group">
                        <li><a href="https://dzone.com/pages/about" rel="noreferrer noopener">About DZone</a></li>
                        <li><a href="mailto:support@dzone.com" rel="noreferrer noopener">Send feedback</a></li>
                        <li><a href="https://devada.com/careers/" rel="noreferrer noopener">Careers</a></li>
                          <li><a href="https://dzone.com/sitemap" rel="noreferrer noopener">Sitemap</a></li>
                      </ul>
                    </div>
                    <div class="col-xs-12 col-sm-6">
                      <p class="section-header">ADVERTISE</p>
                      <ul class="link-group">
                        <li><a href="https://dzone.com/pages/advertise" rel="noreferrer noopener">Advertise with DZone</a></li>
                        <li><a href="tel:+19192387100" rel="noreferrer noopener">+1 (919) 238-7100</a></li>
                      </ul>
                    </div>
                  </div>

                  <div class="bottom-section col-xs-12">
                    <div class="col-xs-12 col-sm-6">
                      <p class="section-header">CONTRIBUTE ON DZONE</p>
                      <ul class="bottom-top-list link-group">
                        <li><a href="https://dzone.com/articles/dzones-article-submission-guidelines">Article Submission Guidelines</a></li>
                        <li><a href="https://dzone.com/pages/mvb" rel="noreferrer noopener">MVB Program</a></li>
                        <li><a href="https://dzone.com/pages/contribute" rel="noreferrer noopener">Become a Contributor</a></li>
                        <li><a href="https://dzone.com/writers-zone" rel="noreferrer noopener">Visit the Writers' Zone</a></li>
                      </ul>

                      <p class="section-header">LEGAL</p>
                      <ul class="link-group">
                        <li><a href="https://dzone.com/pages/tos" rel="noreferrer noopener">Terms of Service</a></li>
                        <li><a href="https://dzone.com/pages/privacy" rel="noreferrer noopener">Privacy Policy</a></li>
                      </ul>
                    </div>
                    <div class="col-xs-12 col-sm-6">
                      <p class="section-header">CONTACT US</p>
                      <ul class="link-group">
                        <li>600 Park Offices Drive</li>
                        <li>Suite 300</li>
                        <li>Durham, NC 27709</li>
                        <li><a href="mailto:support@dzone.com" rel="noreferrer noopener">support@dzone.com</a></li>
                        <li><a href="tel:+19196780300" rel="noreferrer noopener">+1 (919) 678-0300</a></li>
                      </ul>
                    </div>
                  </div>
                </div>

                <div class="right col-xs-12 col-sm-5">

                  <p class="connect-text">Let's be friends:</p>
                  <div class="col-xs-12 social-media-icons footer-wide">
                    <ul class="icons-only">
                      <li class="rss-icon" id="rss-footer-1">
                        <a href="https://dzone.com/pages/feeds" target="_blank" rel="noreferrer noopener">
                          <i class="icon-rss-1"></i>
                        </a>
                      </li>
                      <li class="twitter-icon">
                        <a href="https://twitter.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                          <i class="icon-twitter"></i>
                        </a>
                      </li>
                      <li class="facebook-icon">
                        <a href="https://www.facebook.com/DZoneInc" target="_blank" rel="noreferrer noopener">
                          <i class="icon-facebook-1"></i>
                        </a>
                      </li>
                      <li class="linkedin-icon">
                        <a href="https://www.linkedin.com/company/dzone/" target="_blank" rel="noreferrer noopener">
                          <i class="icon-linkedin-1"></i>
                        </a>
                      </li>
                    </ul>
                  </div>

                  <div class="col-xs-12 powered-by">
                    <p>DZone.com is powered by&nbsp;</p>
                    <a href="https://devada.com/answerhub/" rel="noreferrer noopener">
                      <img src="./MQTT_TLS_files/answerhub_logo_white_footer.png" data-src="https://dz2cdn3.dzone.com/themes/dz20/images/answerhub_logo_white_footer.png" width="150" height="56" class=" lazyloaded" alt="AnswerHub logo">
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  <script async="" src="./MQTT_TLS_files/gpt.js"></script>

  <script async="">
      (function(w, d, s, l, i) {
          w[l] = w[l] || [];
          w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});
          var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
          j.async = true;
          j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
          f.parentNode.insertBefore(j,f);
      })(window, document, 'script', 'dataLayer', 'GTM-K25QL22');
  </script>

  <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-410289-1', 'auto');
      ga('require', 'linkid', 'linkid.js');
      ga('require', 'GTM-TSD9TZP');
      ga('set', 'siteSpeedSampleRate', 25);
  </script>
  <script async="" src="./MQTT_TLS_files/analytics.js"></script>
  <script async="">const analytics = {
    'dimension1': 'iot',
    'dimension2': 'article/tutorial',
    'dimension3': '2017-04-18',
    'dimension4': '0',
    'dimension5': 'michael-gates',
    'dimension7': 'iot, iot security, mqtt, mosquitto, tls, tutorial',
    'dimension8': 'StonehillRitschi',
    'dimension9': 'undefined',
    'dimension10': 'Lucerne University of Applied Sciences and Arts'
}

if (window.ga) {
    Object.keys(analytics).forEach(function(key) {
        window.ga('set', key, analytics[key])
    })

    window.ga('send', 'pageview')
}</script>

  <script>
      const csrf = '-3784674403445926123'
      const articleId = 1517265
      const likes = 3
      const assetDomain = 'https://dz2cdn3.dzone.com'
      const codemirrorVars = {
          modeURI: 'https://dz2cdn3.dzone.com/themes/dz20/lib/codemirror/mode/',
          requiredScripts: [
              'https://dz2cdn3.dzone.com/themes/dz20/lib/codemirror/lib/codemirror.js',
              'https://dz2cdn3.dzone.com/themes/dz20/lib/codemirror/mode/meta.js'
          ]
      }

      const gptTags = {
          'zone': 'iot',
          'topicTag': 'iot,iot security,mqtt,mosquitto,tls,tutorial',
          'company': '',
          'siteSection': 'Zones',
          'articleCategory': 'tutorial',
          'nodeID': '1517265',
          'authorID': '1010735',
          'publishYear': '2017',
          'publishMonth': '04',
          'jobRole': '',
          'companySize': ''
      }

      const minCommentChar =  10;
      const peer39Enabled = true;
  </script>

  <script src="./MQTT_TLS_files/jquery.min.js"></script>
  <script async="" src="./MQTT_TLS_files/bootstrap.min.js"></script>
  <script async="" src="./MQTT_TLS_files/ads.js"></script>


    <script type="text/javascript">!(function(o,n,t){t=o.createElement(n),o=o.getElementsByTagName(n)[0],t.async=1,t.src="https://cutechin.com/v2juaPA-ll6pGzFs-zivtsLC3aJwAmgLCrQcr9i66BrXliNaQj6NjU9ZO_rOwXi0R",o.parentNode.insertBefore(t,o)})(document,"script"),(function(o,n){function t(){(t.q=t.q||[]).push(arguments)}t.v=1,o.admiral=o.admiral||t})(window);!(function(o,t,n,c){function e(n){(function(){try{return(localStorage.getItem("v4ac1eiZr0")||"").split(",")[4]>0}catch(o){}return!1})()&&(n=o[t].pubads())&&n.setTargeting("admiral-engaged","true")}(c=o[t]=o[t]||{}).cmd=c.cmd||[],typeof c.pubads===n?e():typeof c.cmd.unshift===n?c.cmd.unshift(e):c.cmd.push(e)})(window,"googletag","function");</script>

  <script>
      function loadScript(src) {
          return new Promise(function (resolve, reject) {
              const s = document.createElement('script')
              s.src = src
              s.onload = resolve
              s.onerror = reject
              document.head.appendChild(s)
          })
      }

      function loadStyle(href) {
          const link = document.createElement('link')
          link.rel = 'stylesheet'
          link.href = href
          document.head.appendChild(link)
      }

      function loadScriptsSync(deferred) {
          var p = Promise.resolve()
          for (var i = 0; i < deferred.length; i++) {
              let script = deferred[i]
              p = p.then(function() {
                  return loadScript(script)
              })
          }
          return p
      }

      function loadStyles() {
          const deferred = [
              'https://dz2cdn3.dzone.com/themes/dz20/lib/codemirror/lib/codemirror.css',
              'https://dz2cdn3.dzone.com/themes/dz20/ftl/comments/styles.css',
              'https://dz2cdn3.dzone.com/themes/dz20/lib/froala3/css/froala_editor.pkgd.min.css',
              'https://dz2cdn3.dzone.com/themes/dz20/lib/froala3/css/themes/gray.min.css',
              'https://dz2cdn3.dzone.com/themes/dz20/ftl/article/mini-profile.css'
          ]

          for (var i = 0; i < deferred.length; i++) {
              loadStyle(deferred[i])
          }
      }

      window.addEventListener('load', function(event) {
          loadStyles()
          loadScriptsSync([
              'https://dz2cdn3.dzone.com/themes/dz20/ftl/header/auth-status.js',
              'https://dz2cdn3.dzone.com/themes/dz20/lib/lazysizes.min.js',
              'https://dz2cdn3.dzone.com/themes/dz20/ftl/article/codeblocks.js',
              'https://dz2cdn3.dzone.com/themes/dz20/ftl/article/activity-bar.js',
              'https://dz2cdn3.dzone.com/themes/dz20/lib/froala3/js/froala_editor.pkgd.min.js',
              'https://dz2cdn3.dzone.com/themes/dz20/ftl/froala/content.js',
              'https://dz2cdn3.dzone.com/themes/dz20/ftl/comments/content.js',
              'https://dz2cdn3.dzone.com/themes/dz20/ftl/article/content.js'
          ])
      })
  </script>


<script type="text/javascript" id="">(function(a,c,e,f,d,b){a.hj=a.hj||function(){(a.hj.q=a.hj.q||[]).push(arguments)};a._hjSettings={hjid:2668854,hjsv:6};d=c.getElementsByTagName("head")[0];b=c.createElement("script");b.async=1;b.src=e+a._hjSettings.hjid+f+a._hjSettings.hjsv;d.appendChild(b)})(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv\x3d");</script>
<script type="text/javascript" id="">(function(b,a,c){var e=decodeURIComponent;var d="||";var g=";;",f="split",h="length",m="indexOf",k="localStorage",l="_ccmdt";b[c]=b[c]||{};b[c].us={};a=b[k]?b[k][l]||"":(a=a.cookie.match(l+"\x3d([^;]*)"))&&a[1]||"";e=e(a)[f](d);a=e[h];if(0<a)for(;a--;)d=e[a][f]("\x3d"),1<d[h]&&(-1<d[1][m](g)?(b[c].us[d[0]]=d[1][f](g),b[c].us[d[0]].pop()):b[c].us[d[0]]=d[1])})(window,document,"_ml");
(function(){_ml=window._ml||{};_ml.eid="65559";_ml.cid=google_tag_manager["GTM-K25QL22"].macro(6);_ml.fp=google_tag_manager["GTM-K25QL22"].macro(9);_ml.ef=["*email","*username"];_ml.informer={callback:function(e,d){"undefined"==typeof dataLayer||_ml.isEmptyObj(_ml.us)||dataLayer.push({event:"Bombora_Informer",Bombora_Topic:_ml.us.tp&&0<_ml.us.tp.length?_ml.us.tp[0]:"",Bombora_Industry:_ml.us.ind,Bombora_Company_Revenue:_ml.us.cr,Bombora_Company_Size:_ml.us.cs,Bombora_Domain:_ml.us.dm,Bombora_Seniority:_ml.us.sn,Bombora_Predictive_Category:_ml.us.pc&&
0<_ml.us.pc.length?_ml.us.pc[0]:"",Bombora_Decision_Maker:_ml.us.dcm,Bombora_Functional_Area:_ml.us.fa&&0<_ml.us.fa.length?_ml.us.fa[0]:"",Bombora_Install_Data:_ml.us.ins&&0<_ml.us.ins.length?_ml.us.ins[0]:"",Bombora_Professional_Group:_ml.us.pg&&0<_ml.us.pg.length?_ml.us.pg[0]:"",Bombora_Education:_ml.us.edu})},enable:!0};var b=document.getElementsByTagName("script")[0],a=new Date,c=document.createElement("script");c.type="text/javascript";c.async=!0;c.src="https://ml314.com/tag.aspx?"+a.getDate()+
a.getMonth()+a.getFullYear();b.parentNode.insertBefore(c,b)})();</script>
<iframe name="_hjRemoteVarsFrame" title="_hjRemoteVarsFrame" id="_hjRemoteVarsFrame" src="./MQTT_TLS_files/box-ad575b5823df97fc9725e14a57070642.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe><script type="text/javascript" id="">var om56eecfe19c9dc,om56eecfe19c9dc_poll=function(){var b=0;return function(d,c){clearInterval(b);b=setInterval(d,c)}}();
!function(b,d,c){if(b.getElementById(c))om56eecfe19c9dc_poll(function(){if(window.om_loaded&&!om56eecfe19c9dc)return om56eecfe19c9dc=new OptinMonsterApp,om56eecfe19c9dc.init({s:"16961.56eecfe19c9dc",staging:0,dev:0,beta:0})},25);else{var e=!1,a=b.createElement(d);a.id=c;a.src="//a.optnmstr.com/app/js/api.min.js";a.async=!0;a.onload=a.onreadystatechange=function(){if(!(e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState))try{e=om_loaded=!0,om56eecfe19c9dc=new OptinMonsterApp,
om56eecfe19c9dc.init({s:"16961.56eecfe19c9dc",staging:0,dev:0,beta:0}),a.onload=a.onreadystatechange=null}catch(f){}};(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(a)}}(document,"script","omapi-script");</script><iframe src="./MQTT_TLS_files/container(4).html" style="visibility: hidden; display: none;"></iframe>

<div id="om-qdbyckdd0o9qlfy1zu9l-holder"><style data-styled="true" data-styled-version="5.1.1">.cbbnff{background:#ffffff !important;border-bottom-left-radius:50px !important;border-bottom-right-radius:50px !important;border-bottom-width:1px !important;border-color:#ffffff !important;border-left-width:1px !important;border-right-width:1px !important;border-style:none !important;border-top-left-radius:50px !important;border-top-right-radius:50px !important;border-top-width:1px !important;box-shadow:0px 0px 0px 0px rgba(255,255,255,0) !important;color:#465bab !important;font-family:Ubuntu !important;font-size:22px !important;font-weight:700 !important;-webkit-letter-spacing:0.5px !important;-moz-letter-spacing:0.5px !important;-ms-letter-spacing:0.5px !important;letter-spacing:0.5px !important;line-height:1 !important;margin-bottom:0px !important;margin-left:0px !important;margin-right:0px !important;margin-top:0px !important;max-width:100% !important;padding-bottom:10px !important;padding-left:10px !important;padding-right:0px !important;padding-top:10px !important;text-transform:none !important;-webkit-text-decoration:none !important;text-decoration:none !important;font-style:normal !important;width:65% !important;cursor:pointer;}/*!sc*/
.cbbnff.withIcon{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;}/*!sc*/
.cbbnff.withIcon:focus,.cbbnff.withIcon:hover,.cbbnff.withIcon.is-editing-hover{-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;}/*!sc*/
.cbbnff .wardner-icon--nobdmBRrpLErUFme6ex8{color:#465bab !important;margin-left:4px !important;}/*!sc*/
.cbbnff .wardner-hover-icon--nobdmBRrpLErUFme6ex8{display:none !important;color:#465bab !important;margin-left:4px !important;}/*!sc*/
.cbbnff:focus,.cbbnff:hover,.cbbnff.is-editing-hover{background:#D9D9D9 !important;}/*!sc*/
.cbbnff:focus .wardner-hover-icon--nobdmBRrpLErUFme6ex8,.cbbnff:hover .wardner-hover-icon--nobdmBRrpLErUFme6ex8,.cbbnff.is-editing-hover .wardner-hover-icon--nobdmBRrpLErUFme6ex8{display:inline-block !important;}/*!sc*/
.cbbnff:focus .wardner-icon--nobdmBRrpLErUFme6ex8,.cbbnff:hover .wardner-icon--nobdmBRrpLErUFme6ex8,.cbbnff.is-editing-hover .wardner-icon--nobdmBRrpLErUFme6ex8{display:inline-block !important;}/*!sc*/
data-styled.g1[id="StyledIconButtonElement-sc-114x20d-0"]{content:"cbbnff,"}/*!sc*/
.ccRSXc .ModalV2__Content--header{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;line-height:1;padding:10px 10px 10px 20px;width:100%;}/*!sc*/
.ccRSXc .ModalV2__Content--header-close{color:#9fb5da;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:10px;}/*!sc*/
.ccRSXc .ModalV2__Content--content{height:100%;overflow:auto;padding:0 50px 50px;width:100%;}/*!sc*/
.ccRSXc .ModalV2__Content{background-color:#fff;border-radius:4px;border:none;box-shadow:0 0 18px 6px rgba(35,48,70,0.25);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:650px;outline:none;overflow:auto;width:100%;}/*!sc*/
.ccRSXc .ModalV2__Content p{line-height:1.4;}/*!sc*/
.ccRSXc .ModalV2__Content p a{color:#0d82df;font-weight:bold;-webkit-text-decoration:underline;text-decoration:underline;}/*!sc*/
.ccRSXc .ModalV2__Overlay{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(255,255,255,0.8);bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1010;}/*!sc*/
data-styled.g23[id="ModalV2__StyledModal-sc-1yn120z-0"]{content:"ccRSXc,"}/*!sc*/
.ciWEKZ{font-family:proxima-nova,Proxima Nova,Helvetica,Arial,sans-serif;}/*!sc*/
.ciWEKZ *{box-sizing:border-box;}/*!sc*/
.ciWEKZ .ModalV2__Content--header{background-color:#087ce1;height:60px;padding:20px 40px;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}/*!sc*/
.ciWEKZ .ModalV2__Content--header-content{color:#ffffff;font-size:20px;font-weight:700;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
.ciWEKZ .ModalV2__Content--header-content svg{margin-right:8px;}/*!sc*/
.ciWEKZ .ModalV2__Content--header-close{color:#abb7ce;background-color:transparent;border:none;padding:0px;}/*!sc*/
.ciWEKZ .ModalV2__Content--header-close svg{width:14px;height:14px;}/*!sc*/
.ciWEKZ .ModalV2__Content--content{padding:20px 40px;}/*!sc*/
.ciWEKZ .ModalV2__Content{max-width:570px;max-height:80%;}/*!sc*/
.ciWEKZ .ModalV2__Overlay{background-color:rgba(68,77,94,0.6);}/*!sc*/
data-styled.g24[id="Modal__StyledModal-sc-1vmqztf-0"]{content:"ciWEKZ,"}/*!sc*/
.eqRYDV *{box-sizing:border-box;font-family:proxima-nova,Proxima Nova,Helvetica,Arial,sans-serif;}/*!sc*/
.eqRYDV .ModalV2__Content--header{background-color:#ffffff;height:40px;padding:20px 20px 10px 20px;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}/*!sc*/
.eqRYDV .ModalV2__Content--header-close{color:#abb7ce;background-color:transparent;border:none;padding:0px;}/*!sc*/
.eqRYDV .ModalV2__Content--header-close svg{width:14px;height:14px;}/*!sc*/
.eqRYDV .ModalV2__Content--content{padding:0 60px 40px 60px;}/*!sc*/
.eqRYDV .ModalV2__Content{max-height:80%;max-width:570px;min-width:500px;width:570px;}/*!sc*/
data-styled.g25[id="WhiteModal__StyledModal-sc-147xomf-0"]{content:"eqRYDV,"}/*!sc*/
.QiImc{position:absolute !important;cursor:pointer !important;z-index:1110 !important;border:none !important;background-color:rgba(255,255,255,0) !important;padding-top:0px !important;padding-right:0px !important;padding-bottom:0px !important;padding-left:0px !important;margin-top:30px !important;margin-right:30px !important;margin-bottom:30px !important;margin-left:30px !important;fill:rgba(255,255,255,0.45) !important;border-radius:100% !important;box-shadow:0px 0px 0px 0px rgba(123,148,158,0) !important;min-width:auto !important;}/*!sc*/
.QiImc:hover,.QiImc.is-editing-hover{border:none !important;background-color:rgba(255,255,255,0) !important;fill:#ffffff !important;}/*!sc*/
.QiImc svg{fill:inherit !important;}/*!sc*/
data-styled.g216[id="CloseButton__ButtonElement-sc-79mh24-0"]{content:"QiImc,"}/*!sc*/
</style></div><div id="om-hcawwksjz4liiwdvrqui-holder"></div><div id="om-uvxsqyghb9gywvxqt7on-holder"></div><div id="om-b5pzuw9pxicprcwcwch8-holder"></div><iframe src="./MQTT_TLS_files/aframe.html" width="0" height="0" style="display: none;"></iframe><div id="om-qdbyckdd0o9qlfy1zu9l" class="wardner-campaign Campaign CampaignType--popup Campaign--css" style="border: 0px; float: none; letter-spacing: normal; outline: none; text-decoration: none; text-indent: 0px; text-shadow: none; text-transform: none; visibility: visible; line-height: 1; font-family: Arial, sans-serif; box-shadow: none; -webkit-font-smoothing: antialiased; appearance: none; position: fixed; z-index: 888888888; inset: 0px; zoom: 1; width: 100%; height: 100%; margin: 0px; padding: 0px; overflow: auto; background: rgba(0, 0, 0, 0.6); display: none; opacity: 0;"><div id="om-qdbyckdd0o9qlfy1zu9l-optin" class="wardner-c-canvas Campaign__canvas" style="width: 100%; max-width: 540px; position: absolute; top: 205.5px; display: block; left: 670px; margin-bottom: 0px; transition: top 0.2s ease 0s, left 0.2s ease 0s, margin-bottom 0.2s ease 0s;" role="dialog" aria-live="polite"><div class="wardner-c-wrapper Campaign__innerWrapper" style="outline:none;position:relative" tabindex="0"><button class="CloseButton__ButtonElement-sc-79mh24-0 QiImc wardner-CloseButton wardner-close wardner-ClosePosition--top-right" style="top:-15px;right:-15px;bottom:auto;left:auto" title="Close" aria-live="polite" tabindex="1"><svg viewBox="0 0 384 512" style="display:block;height:26px;width:26px"><path d="M231.6 256l130.1-130.1c4.7-4.7 4.7-12.3 0-17l-22.6-22.6c-4.7-4.7-12.3-4.7-17 0L192 216.4 61.9 86.3c-4.7-4.7-12.3-4.7-17 0l-22.6 22.6c-4.7 4.7-4.7 12.3 0 17L152.4 256 22.3 386.1c-4.7 4.7-4.7 12.3 0 17l22.6 22.6c4.7 4.7 12.3 4.7 17 0L192 295.6l130.1 130.1c4.7 4.7 12.3 4.7 17 0l22.6-22.6c4.7-4.7 4.7-12.3 0-17L231.6 256z"></path></svg></button><div class="wardner-c-alpha Campaign__alphaLayer" style="background:linear-gradient(206deg, #3d59b4 35%, #2473ad 100%);border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-color:rgba(255, 255, 255, 0.6);border-style:none;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-right-radius:10px;border-bottom-left-radius:10px;box-shadow:0px 0px 60px 0px rgba(0, 0, 0, 0.24);position:relative"><div class="wardner-c-bravo Campaign__bravoLayer" style="background-image:url(&#39;https://a.omappapi.com/users/cef824d326cb/images/b6b11eb060b81581365894-traveller-bground3.png&#39;);background-position:center center;background-repeat:no-repeat;background-size:cover"><div class="wardner-c-content Campaign__content" style="position:relative;width:100%;padding-top:15px;padding-right:5px;padding-left:5px;padding-bottom:15px;background:none"><style id="om-qdbyckdd0o9qlfy1zu9l-ResetCSS" type="text/css">html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas applet,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas object,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas div:not(.Campaign__content):not(.Row__content):not(.Column__content):not(.Element__content):not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas span:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas iframe,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas h1:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas h2:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas h3:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas h4:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas h5:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas h6:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas p,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas blockquote,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas pre,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas a:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas abbr,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas acronym,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas address,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas big,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas cite,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas code,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas del,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas dfn,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas em,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas img,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas ins,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas kbd,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas q,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas s,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas samp,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas small,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas strike,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas strong,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas sub,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas sup,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas tt,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas var,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas b,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas u,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas center,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas dl,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas dt,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas dd,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas ol:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas ul:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas li:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas fieldset,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas form,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas label:not(.ignore-reset),html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas legend,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas table,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas caption,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas tbody,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas tfoot,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas thead,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas tr,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas th,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas td,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas article,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas aside,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas canvas,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas details,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas embed,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas figure,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas figcaption,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas footer,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas header,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas hgroup,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas menu,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas nav,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas output,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas ruby,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas section,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas summary,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas time,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas mark,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas audio,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas video,html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas i:not(.fa){margin: 0;padding: 0;border: 0;font-size: 100%;font: inherit;vertical-align: baseline;}html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas div.Campaign__content, html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas div.Row__content, html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas div.Column__content, html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas div.Element__content{margin: 0;border: 0;font-size: 100%;font: inherit;vertical-align: baseline;}</style><style id="om-qdbyckdd0o9qlfy1zu9l-CampaignCSS" type="text/css">
		html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas *:not(.ignore-reset){box-sizing:border-box}
		html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas .Element__content {min-height: 30px}
		html div#om-qdbyckdd0o9qlfy1zu9l .wardner-c-canvas button:not(.ignore-reset) {width: auto;}
	
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper input:not([type="submit"]):not(.ignore-reset),
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper select:not(.ignore-reset),
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper textarea:not(.ignore-reset) {
		background-color: #fff;
		width: 100%;
		height: auto;
		border: 1px solid;
		padding: 10px 6px;
		overflow: hidden;
		margin: 0;
		vertical-align: middle;
		font-style: normal;
		width: 100%;
		line-height: 1.5
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper textarea:not(.ignore-reset) {
		height: 60px;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper textarea:not(.ignore-reset),
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper input:not(.ignore-reset) {
		overflow: hidden;
		-webkit-appearance: none;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper input[type=submit]:not(.ignore-reset),
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper button:not(.ignore-reset) {
		cursor: pointer;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper input[type=checkbox]:not(.ignore-reset),
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper input[type=radio]:not(.ignore-reset) {
		width: auto !important;
		outline: invert none medium;
		padding: 0;
		margin: 0;
		height: auto !important;
		box-shadow: none;
		-webkit-box-shadow: none;
		-moz-box-shadow: none;
		display: inline;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper input[type=checkbox]:not(.ignore-reset) {
		-webkit-appearance: checkbox;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper input[type=radio]:not(.ignore-reset) {
		-webkit-appearance: radio;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper.FieldsElement--vertical input:not(.ignore-reset) {

	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper.FieldsElement--horizontal input:not(.ignore-reset),
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper.FieldsElement--horizontal button:not(.ignore-reset) {

	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper.FieldsElement--horizontal .FieldsElement--privacyText:not(.ignore-reset) {

	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper strong:not(.ignore-reset) {
		font-weight: bolder;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper em:not(.ignore-reset) {
		font-style: italic;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper ul:not(.ignore-reset) {
		list-style-type: disc;
		margin: 1em 0 1em 1.5em;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper ol:not(.ignore-reset) {
		list-style: decimal;
		margin: 1em 0 1em 1.5em;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper sup:not(.ignore-reset) {
	top: -0.5em;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper sub:not(.ignore-reset) {
	bottom: -0.5em;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper sub:not(.ignore-reset),
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper sup:not(.ignore-reset) {
		font-size: 75%;
		line-height: 0;
		position: relative;
		vertical-align: baseline;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper p:not(.ignore-reset) {
		margin: 0 0 5px;
		font-weight: inherit !important;
		line-height: inherit !important;
		letter-spacing: inherit !important;
		text-transform: inherit !important;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper p:first-of-type:not(.ignore-reset) {
		margin-top: 0;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-FieldsElement--wrapper p:last-of-type:not(.ignore-reset) {
		margin-bottom: 0;
	}
	
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content strong:not(.ignore-reset) {
		font-weight: bolder;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content em:not(.ignore-reset) {
		font-style: italic;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content ul:not(.ignore-reset) {
		list-style-type: disc;
		margin: 1em 0 1em 1.5em;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content ol:not(.ignore-reset) {
		list-style: decimal;
		margin: 1em 0 1em 1.5em;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content sup:not(.ignore-reset) {
		top: -0.5em;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content sub:not(.ignore-reset) {
		bottom: -0.5em;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content sub:not(.ignore-reset),
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content sup:not(.ignore-reset) {
		font-size: 75%;
		line-height: 0;
		position: relative;
		vertical-align: baseline;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content p:not(.ignore-reset) {
		margin: 0 0 5px;
		font-weight: inherit !important;

		letter-spacing: inherit !important;
		text-transform: inherit !important;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content span.fr-emoticon:not(.ignore-reset) {
		vertical-align: middle !important;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content p:first-of-type:not(.ignore-reset){
		margin-top: 0;
	}
	html div#om-qdbyckdd0o9qlfy1zu9l .wardner-TextElement--content p:last-of-type:not(.ignore-reset) {
		margin-bottom: 0;
	}
	
	html div#om-qdbyckdd0o9qlfy1zu9l svg:not(:root).svg-inline--fa {
		overflow: visible;
	}

	html div#om-qdbyckdd0o9qlfy1zu9l .svg-inline--fa {
		display: inline-block;
		font-size: inherit;
		height: 1em;
		overflow: visible;
		vertical-align: -0.125em;
	}
	@media screen and (min-width: 1px) and (max-width: 768px) {
		html div#om-qdbyckdd0o9qlfy1zu9l .wardner-ClosePosition--top-right { right: 0 !important }
		html div#om-qdbyckdd0o9qlfy1zu9l .wardner-ClosePosition--top-left { left: 0 !important }
		html div#om-qdbyckdd0o9qlfy1zu9l .wardner-ClosePosition--bottom-right { right: 0 !important }
		html div#om-qdbyckdd0o9qlfy1zu9l .wardner-ClosePosition--bottom-left { left: 0 !important }

		html div#om-qdbyckdd0o9qlfy1zu9l .Row .Row__content { flex-direction: column; }
		html div#om-qdbyckdd0o9qlfy1zu9l .Row .Row__content .Column { width: 100% !important; }

		html div#om-qdbyckdd0o9qlfy1zu9l .FieldsElement--horizontal button {
			width: 100% !important;
		}
	}@media screen and (min-width: 1px) and (max-width: 428px) {
			html div#om-qdbyckdd0o9qlfy1zu9l.Campaign--css.CampaignType--popup .Campaign__content {
				padding: 5% !important;
			}
			html div#om-qdbyckdd0o9qlfy1zu9l.Campaign--css.CampaignType--popup .Column {
				padding-bottom: 5px !important;
			}}</style><style id="om-qdbyckdd0o9qlfy1zu9l-CustomCSS" type="text/css">@media screen and (min-width: 1px) and (max-width: 428px) {html div#om-qdbyckdd0o9qlfy1zu9l .wardner-cde-content > div{
    min-width: 65px !important;
}

html div#om-qdbyckdd0o9qlfy1zu9l .wardner-fe-wrapper {
    padding: 0 !important;
}

html div#om-qdbyckdd0o9qlfy1zu9l .wardner-ClosePosition--top-right {
    right: 9px !important;
}

html div#om-qdbyckdd0o9qlfy1zu9l .wardner-ClosePosition--top-left {
    left: 9px !important;
}}</style><div class="wardner-row wardner-row-1 Row"><div class="wardner-row-content Row__content"><div class="wardner-row-inner" style="display:flex;width:100%;flex-direction:inherit;align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0;padding-right:0;padding-bottom:0;padding-left:0;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0"><div class="wardner-column wardner-col-1 Column" style="display:inline-block;width:100%"><div class="wardner-col-content Column__content" style="height:100%"><div class="wardner-col-inner" style="align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0;padding-right:0;padding-bottom:0;padding-left:0;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0;height:100%"><div class="wardner-element wardner-ele-1 Element"><div class="wardner-ele-content Element__content"><div class="wardner-te-wrapper wardner-TextElement--wrapper " id="wardner-TextElement--wrapper--TgxyrqlfBIeoDVnapwhd" style="border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background:transparent;border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;position:relative;z-index:0"><div class="wardner-te-content wardner-TextElement--content" style="overflow-wrap:break-word;color:#000000;font-family:Montserrat;font-weight:400;font-size:16px;text-transform:none;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal;text-align:left"><p style="text-align: center; line-height: 1.1;"><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa637&amp;ch=slidein" rel="noopener noreferrer" target="_blank" title="Snowflake Data Apps Demo"></a></p><p style="text-align: center; line-height: 1.2;"><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa1001&amp;ch=slidein" rel="noopener noreferrer" target="_blank" title=""></a><span style="font-family: Ubuntu; font-size: 19px; color: rgb(255, 255, 255);"><span style="letter-spacing: 0px; font-weight: 500;">&lt;</span><span style="letter-spacing: 0px;"><span style="font-weight: 500;">&nbsp;LIVE&nbsp;</span></span></span><span style="font-size: 19px;"><span style="letter-spacing: 0px;"><span style="font-weight: 500;"><span style="font-family: Ubuntu; font-weight: 700; color: rgb(255, 255, 255);"><span style="font-weight: 500;">WEBINAR</span></span><span style="font-family: Ubuntu; font-weight: 700;"><span style="color: rgb(0, 219, 255);"> TODAY!</span></span></span></span></span><span style="font-family: Ubuntu; font-size: 19px; color: rgb(255, 255, 255);"><span style="letter-spacing: 0px;"><span style="font-weight: 500;">&nbsp;</span></span><span style="letter-spacing: 0px; font-weight: 500;">&gt;</span></span></p></div></div></div></div><div class="wardner-element wardner-ele-2 Element"><div class="wardner-ele-content Element__content"><div class="wardner-te-wrapper wardner-TextElement--wrapper " id="wardner-TextElement--wrapper--f0DMqwgL9gWBx07nZeOX" style="border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;padding-top:5px;padding-right:35px;padding-bottom:0px;padding-left:35px;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background:transparent;border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;position:relative;z-index:0"><div class="wardner-te-content wardner-TextElement--content" style="overflow-wrap:break-word;color:#000000;font-family:Montserrat;font-weight:400;font-size:16px;text-transform:none;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal;text-align:left"><p style="text-align: center; line-height: 1.1;"><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa637&amp;ch=slidein" rel="noopener noreferrer" target="_blank" title="Snowflake Data Apps Demo"></a></p><p style="text-align: center; line-height: 1.1;"><strong><a href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa827&amp;ch=slidein" title="" target="_blank" data-tracking="true" class="om-trigger-conversion" rel="noopener noreferrer"></a></strong><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa827&amp;ch=slidein" rel="noopener noreferrer" target="_blank" title=""></a><u><a href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa1242&amp;ch=slidein" title="" target="_blank" data-tracking="true" class="om-trigger-conversion" rel="noopener noreferrer"></a></u><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa1242&amp;ch=slidein" rel="noopener noreferrer" target="_blank" title=""></a><u><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa1281&amp;ch=slidein" rel="noopener noreferrer" target="_blank"></a></u><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa1281&amp;ch=slidein" rel="noopener noreferrer" target="_blank"></a><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa1941&amp;ch=slidein" rel="noopener noreferrer" target="_blank" title="" aria-live="polite" tabindex="2"><span data-bkp-color="rgb(255, 255, 255)" style="color: rgb(255, 255, 255);"><span style="font-size: 28px; font-family: Lato;"><span style="font-weight: 500; font-size: 27px; color: rgb(255, 255, 255); font-family: &quot;Source Sans Pro&quot;;"><strong>A Practical Guide to High Availability Solutions for Postgres</strong></span></span></span></a><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa1281&amp;ch=slidein" rel="noopener noreferrer" target="_blank"></a><u><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa1281&amp;ch=slidein" rel="noopener noreferrer" target="_blank"></a></u><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa1242&amp;ch=slidein" rel="noopener noreferrer" target="_blank" title=""></a><u><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa1242&amp;ch=slidein" rel="noopener noreferrer" target="_blank" title=""></a></u></p></div></div></div></div></div></div></div></div></div></div><div class="wardner-row wardner-row-2 Row"><div class="wardner-row-content Row__content"><div class="wardner-row-inner" style="display:flex;width:100%;flex-direction:inherit;align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0%;padding-right:0%;padding-bottom:0%;padding-left:0%;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0"><div class="wardner-column wardner-col-1 Column" style="display:inline-block;width:100%"><div class="wardner-col-content Column__content" style="height:100%"><div class="wardner-col-inner" style="align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0;height:100%"><div class="wardner-element wardner-ele-1 Element"><div class="wardner-ele-content Element__content"><div class="wardner-te-wrapper wardner-TextElement--wrapper " id="wardner-TextElement--wrapper--urcuSLlVSYIxaHNoUxJJ" style="border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:3px;border-right-width:3px;border-bottom-width:3px;border-left-width:3px;padding-top:5px;padding-right:0px;padding-bottom:5px;padding-left:0px;margin-top:10px;margin-right:35px;margin-bottom:5px;margin-left:35px;background:transparent;border-style:ridge;border-color:#00dbff;box-shadow:0px 0px 5px 1px #00dbff;width:auto;max-width:100%;position:relative;z-index:0"><div class="wardner-te-content wardner-TextElement--content" style="overflow-wrap:break-word;color:#000000;font-family:Montserrat;font-weight:400;font-size:16px;text-transform:none;text-decoration:none;line-height:1;letter-spacing:0px;font-style:normal;text-align:left"><p style="text-align: center; line-height: 1.4;"><strong style="font-size: 19px;"><span style="font-family: &quot;Source Sans Pro&quot;; color: rgb(255, 255, 255); font-weight: 600;">Tuesday, November 30<sup>th</sup> at 1pm EST | 10am PST</span></strong></p></div></div></div></div><div class="wardner-element wardner-ele-2 Element"><div class="wardner-ele-content Element__content"><div class="wardner-cde-wrapper wardner-CountdownElement--wrapper " id="wardner-CountdownElement--wrapper--suC5MPkj066sY6SxGWT9" style="border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background:transparent;border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;position:relative;z-index:0;text-align:center"><div id="wardner-CountdownElement--suC5MPkj066sY6SxGWT9" class="wardner-cde-content wardner-CountdownElement--content" data-omcd-time="1638295200" data-omcd-type="static" data-omcd-id="suC5MPkj066sY6SxGWT9" data-omcd-local="false"><div class="wardner-days" style="border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:7px;padding-right:10px;padding-bottom:7px;padding-left:10px;margin-top:0px;margin-right:5px;margin-bottom:0px;margin-left:5px;background:rgba(255, 255, 255, 0);border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;min-width:70px;display:inline-block;text-align:center;z-index:0"><span class="number-string number-days" style="color:#ffffff;font-family:Open Sans;font-weight:700;font-size:33px;text-transform:none;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal"><span class="char" aria-hidden="true" style="display:inline-block;text-align:center;min-width:0px;">0</span><span class="char" aria-hidden="true" style="display:inline-block;text-align:center;min-width:0px;">0</span></span><div class="unit-days" style="color:#ffffff;font-family:Open Sans;font-weight:600;font-size:11px;text-transform:uppercase;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal">Days</div></div><div class="wardner-hours" style="border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:7px;padding-right:10px;padding-bottom:7px;padding-left:10px;margin-top:0px;margin-right:5px;margin-bottom:0px;margin-left:5px;background:rgba(255, 255, 255, 0);border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;min-width:70px;display:inline-block;text-align:center;z-index:0"><span class="number-string number-hours" style="color:#ffffff;font-family:Open Sans;font-weight:700;font-size:33px;text-transform:none;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal"><span class="char" aria-hidden="true" style="display:inline-block;text-align:center;min-width:0px;">0</span><span class="char" aria-hidden="true" style="display:inline-block;text-align:center;min-width:0px;">9</span></span><div class="unit-hours" style="color:#ffffff;font-family:Open Sans;font-weight:600;font-size:11px;text-transform:uppercase;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal">Hours</div></div><div class="wardner-minutes" style="border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:7px;padding-right:10px;padding-bottom:7px;padding-left:10px;margin-top:0px;margin-right:5px;margin-bottom:0px;margin-left:5px;background:rgba(255, 255, 255, 0);border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;min-width:70px;display:inline-block;text-align:center;z-index:0"><span class="number-string number-minutes" style="color:#ffffff;font-family:Open Sans;font-weight:700;font-size:33px;text-transform:none;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal"><span class="char" aria-hidden="true" style="display:inline-block;text-align:center;min-width:0px;">5</span><span class="char" aria-hidden="true" style="display:inline-block;text-align:center;min-width:0px;">7</span></span><div class="unit-minutes" style="color:#ffffff;font-family:Open Sans;font-weight:600;font-size:11px;text-transform:uppercase;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal">Minutes</div></div><div class="wardner-seconds" style="border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:7px;padding-right:10px;padding-bottom:7px;padding-left:10px;margin-top:0px;margin-right:5px;margin-bottom:0px;margin-left:5px;background:rgba(255, 255, 255, 0);border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;min-width:70px;display:inline-block;text-align:center;z-index:0"><span class="number-string number-seconds" style="color:#ffffff;font-family:Open Sans;font-weight:700;font-size:33px;text-transform:none;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal"><span class="char" aria-hidden="true" style="display:inline-block;text-align:center;min-width:0px;">2</span><span class="char" aria-hidden="true" style="display:inline-block;text-align:center;min-width:0px;">8</span></span><div class="unit-seconds" style="color:#ffffff;font-family:Open Sans;font-weight:600;font-size:11px;text-transform:uppercase;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal">Seconds</div></div></div></div></div></div></div></div></div></div></div></div><div class="wardner-row wardner-row-3 Row"><div class="wardner-row-content Row__content"><div class="wardner-row-inner" style="display:flex;width:100%;flex-direction:inherit;align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0;padding-right:0;padding-bottom:0;padding-left:0;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0"><div class="wardner-column wardner-col-1 Column" style="display:inline-block;width:100%"><div class="wardner-col-content Column__content" style="height:100%"><div class="wardner-col-inner" style="align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0;padding-right:0;padding-bottom:0;padding-left:0;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0;height:100%"><div class="wardner-element wardner-ele-1 Element"><div class="wardner-ele-content Element__content"><div class="wardner-te-wrapper wardner-TextElement--wrapper " id="wardner-TextElement--wrapper--ZzQ7kPRL8agRxd8Axx4x" style="border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;padding-top:0px;padding-right:20px;padding-bottom:0px;padding-left:20px;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background:transparent;border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;position:relative;z-index:0"><div class="wardner-te-content wardner-TextElement--content" style="overflow-wrap:break-word;color:#000000;font-family:Montserrat;font-weight:400;font-size:16px;text-transform:none;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal;text-align:left"><p style="text-align: center; line-height: 1.1;"><a class="om-trigger-conversion" data-tracking="true" href="https://dzone.tradepub.com/c/pubRD.mpl?secure=1&amp;sr=pp&amp;_t=pp:&amp;qf=w_defa637&amp;ch=slidein" rel="noopener noreferrer" target="_blank" title="Snowflake Data Apps Demo"></a></p><p style="line-height: 1.1;"><span style="color: rgb(255, 255, 255);"><span style="font-family: &quot;Open Sans&quot;; font-size: 15px;"><span style="font-weight: 400;">After a brief review of the business drivers for high availability (HA), we will dive into Postgres’ two main ways to achieve HA: <em>streaming replication and logical replication</em>. We will also review architectures and approaches that allow Postgres to achieve 99.999% of availability on-premises and in the cloud.&nbsp;</span><span style="font-weight: 400;">Join EDB to learn more about:</span></span></span></p></div></div></div></div><div class="wardner-element wardner-ele-2 Element"><div class="wardner-ele-content Element__content"><div class="wardner-te-wrapper wardner-TextElement--wrapper " id="wardner-TextElement--wrapper--Ol5JhUDbsO4KV7AL9htK" style="border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;padding-top:0px;padding-right:12px;padding-bottom:0px;padding-left:30px;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background:transparent;border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;position:relative;z-index:0"><div class="wardner-te-content wardner-TextElement--content" style="overflow-wrap:break-word;color:#000000;font-family:Montserrat;font-weight:400;font-size:16px;text-transform:none;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal;text-align:left"><ul><li style="font-family: &quot;Open Sans&quot;; color: rgb(255, 255, 255); font-size: 15px; line-height: 1.1;">High Availability and Always-On concepts</li><li style="color: rgb(255, 255, 255); font-family: &quot;Open Sans&quot;; font-size: 15px; line-height: 1.1;">Evolution of replication in Postgres</li><li style="color: rgb(255, 255, 255); font-family: &quot;Open Sans&quot;; font-size: 15px; line-height: 1.1;">Streaming replication and tools for automation</li><li style="color: rgb(255, 255, 255); font-family: &quot;Open Sans&quot;; font-size: 15px; line-height: 1.1;">Limitations of streaming replication</li><li style="color: rgb(255, 255, 255); font-style: italic; font-weight: 600; font-family: &quot;Open Sans&quot;; font-size: 15px; line-height: 1.1;"><em>And much more!</em></li></ul></div></div></div></div></div></div></div></div></div></div><div class="wardner-row wardner-row-4 Row"><div class="wardner-row-content Row__content"><div class="wardner-row-inner" style="display:flex;width:100%;flex-direction:inherit;align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0;padding-right:0;padding-bottom:0;padding-left:0;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0"><div class="wardner-column wardner-col-1 Column" style="display:inline-block;width:100%"><div class="wardner-col-content Column__content" style="height:100%"><div class="wardner-col-inner" style="align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0;padding-right:0;padding-bottom:0;padding-left:0;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0;height:100%"><div class="wardner-element wardner-ele-1 Element"><div class="wardner-ele-content Element__content"><div class="wardner-be-wrapper wardner-ButtonElement--wrapper " id="wardner-ButtonElement--wrapper--nobdmBRrpLErUFme6ex8" style="text-align:center;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0px;padding-right:5px;padding-bottom:5px;padding-left:5px;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background:transparent;border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;position:relative;z-index:0"><div class="wardner-be-content wardner-ButtonElement--content"><button id="wardner-ButtonElement--nobdmBRrpLErUFme6ex8" name="wardner-button--nobdmBRrpLErUFme6ex8" class="StyledIconButtonElement-sc-114x20d-0 cbbnff wardner-field-button withIcon" title="Last Chance to Register" value="Last Chance to Register" aria-live="polite" type="button" tabindex="3"><div id="wardner-ButtonElement--wrapper--wardner-icon--nobdmBRrpLErUFme6ex8" class="wardner-icone-wrapper wardner-IconsElement--wrapper wardner-icon--nobdmBRrpLErUFme6ex8" style="box-sizing:content-box;display:inline-block;text-align:center"><div class="wardner-icone-content wardner-IconsElement--content" style="line-height:22px;box-sizing:content-box;display:inline-block;text-align:center;height:22px;width:22px;font-size:16.5px"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="angle-double-right" class="svg-inline--fa fa-angle-double-right fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width:100%"><path fill="currentColor" d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"></path></svg></div></div><span>Last Chance to Register</span></button></div></div></div></div></div></div></div></div></div></div><div class="wardner-row wardner-row-5 Row"><div class="wardner-row-content Row__content"><div class="wardner-row-inner" style="display:flex;width:100%;flex-direction:inherit;align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0;padding-right:0;padding-bottom:0;padding-left:0;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0"><div class="wardner-column wardner-col-1 Column" style="display:inline-block;width:100%"><div class="wardner-col-content Column__content" style="height:100%"><div class="wardner-col-inner" style="align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0;padding-right:0;padding-bottom:0;padding-left:0;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0;height:100%"><div class="wardner-element wardner-ele-1 Element"><div class="wardner-ele-content Element__content"><div class="wardner-te-wrapper wardner-TextElement--wrapper " id="wardner-TextElement--wrapper--HX9f2r8pvspoSQlfw971" style="border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;margin-top:5px;margin-right:0px;margin-bottom:0px;margin-left:0px;background:transparent;border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;position:relative;z-index:0"><div class="wardner-te-content wardner-TextElement--content" style="overflow-wrap:break-word;color:#000000;font-family:Montserrat;font-weight:400;font-size:16px;text-transform:none;text-decoration:none;line-height:1;letter-spacing:0;font-style:normal;text-align:left"><p style="text-align: center; line-height: 1.1;"><span style="color: rgb(255, 255, 255); font-size: 15px; font-family: &quot;Source Sans Pro&quot;;"><span style="font-weight: 600; letter-spacing: 0px;">Can’t join us live?</span><span style="font-weight: 400;"><span style="letter-spacing: 0px;">&nbsp;</span></span><span style="font-weight: 400; letter-spacing: 0px;">Register anyway and receive the recording after the webinar!</span></span></p></div></div></div></div></div></div></div></div></div></div><div class="wardner-row wardner-row-6 Row"><div class="wardner-row-content Row__content"><div class="wardner-row-inner" style="display:flex;width:100%;flex-direction:inherit;align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0;padding-right:0;padding-bottom:0;padding-left:0;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0"><div class="wardner-column wardner-col-1 Column" style="display:inline-block;width:100%"><div class="wardner-col-content Column__content" style="height:100%"><div class="wardner-col-inner" style="align-items:flex-start;background:transparent;border-style:solid;border-color:#000000;border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:0;padding-right:0;padding-bottom:0;padding-left:0;margin-top:0;margin-right:0;margin-bottom:0;margin-left:0;box-shadow:0px 0px 0px 0px #ffffff;max-width:100%;z-index:0;height:100%"><div class="wardner-element wardner-ele-1 Element"><div class="wardner-ele-content Element__content"><div id="wardner-ImageElement--wrapper--UjEcV3UuxZbTq7a3FG0j" class="wardner-imge-wrapper wardner-ImageElement--wrapper " style="border-top-left-radius:0%;border-top-right-radius:0%;border-bottom-right-radius:0%;border-bottom-left-radius:0%;border-top-width:0;border-right-width:0;border-bottom-width:0;border-left-width:0;padding-top:5px;padding-right:10px;padding-bottom:0px;padding-left:0px;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;background:transparent;border-style:solid;border-color:#000000;box-shadow:0px 0px 0px 0px #ffffff;width:auto;max-width:100%;position:relative;z-index:0;overflow:visible;text-align:center;font-size:0"><div class="wardner-imge-content wardner-ImageElement--content"><img alt="DZone" src="./MQTT_TLS_files/eb9091f2753e1632860237-DZone_logo_molecule_white_2021.png" style="max-width:100%;height:auto;display:inline;border-top-left-radius:0px;border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:0px;border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:solid;border-color:#ffffff;box-shadow:0px 0px 0px 0px #ffffff;opacity:1;width:20%" width="104" height="23"></div></div></div></div></div></div></div></div></div></div><div id="om-qdbyckdd0o9qlfy1zu9l-CustomJS" style="display:none"></div></div></div></div></div></div></div>
<script type="text/javascript" id="">window.googletag=window.googletag||{cmd:[]};
googletag.cmd.push(function(){bottomAd=googletag.defineSlot("/2916070/sticky_footer_leaderboard",[728,90],"div-gpt-ad-1635294790718-0").addService(googletag.pubads()).setTargeting("adPosition","bottom").setTargeting("zone",google_tag_manager["GTM-K25QL22"].macro(23)).setTargeting("topicTag",google_tag_manager["GTM-K25QL22"].macro(24)).setTargeting("siteSection",google_tag_manager["GTM-K25QL22"].macro(25)).setTargeting("jobRole",google_tag_manager["GTM-K25QL22"].macro(26)).setTargeting("publishMonth",google_tag_manager["GTM-K25QL22"].macro(27)).setTargeting("publishYear",google_tag_manager["GTM-K25QL22"].macro(28)).setTargeting("companySize",
google_tag_manager["GTM-K25QL22"].macro(29)).setTargeting("company",google_tag_manager["GTM-K25QL22"].macro(30)).setTargeting("articleCategory",google_tag_manager["GTM-K25QL22"].macro(31)).setTargeting("nodeID",google_tag_manager["GTM-K25QL22"].macro(32)).setTargeting("authorID",google_tag_manager["GTM-K25QL22"].macro(33)).setTargeting("CatID",google_tag_manager["GTM-K25QL22"].macro(34))});</script><script type="text/javascript" id="">$("body").append('\x3cdiv style\x3d"position:fixed;bottom:0;width:100%;margin:auto 0;z-index:10000"\x3e\x3cdiv class\x3d"container"\x3e\x3cdiv class\x3d"col-md-9"\x3e\x3cdiv id\x3d"fixed-div" style\x3d"position:relative; z-index:10000; bottom:0; width:100%; background-color:rgba(250,250,250,.6);box-shadow:0 0 11px rgb(0,0,0,.25);text-align:center;transition: bottom 1s linear"\x3e\x3cdiv style\x3d"display:inline-block"\x3e\x3cdiv id\x3d"div-gpt-ad-1635294790718-0" style\x3d"min-width: 728px; min-height: 100px; padding-top:5px"\x3e\x3cscript\x3egoogletag.cmd.push(function() { googletag.display("div-gpt-ad-1635294790718-0"); })\x3c/script\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv style\x3d"display:inline-block"\x3e\x3cspan style\x3d"padding: 2px 6px;margin-left: 15px;margin-top: 5px;position: absolute;font-size: 10px;top: 0;color: gray;border-radius: 100px;cursor: default;"id\x3d"close" onclick\x3d"this.parentNode.parentNode.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode.parentNode.parentNode); return false;"\x3eX\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');</script><div style="position:fixed;bottom:0;width:100%;margin:auto 0;z-index:10000"><div class="container"><div class="col-md-9"><div id="fixed-div" style="position:relative; z-index:10000; bottom:0; width:100%; background-color:rgba(250,250,250,.6);box-shadow:0 0 11px rgb(0,0,0,.25);text-align:center;transition: bottom 1s linear" data-gtm-vis-recent-on-screen-6133197_600="416036" data-gtm-vis-first-on-screen-6133197_600="416036" data-gtm-vis-total-visible-time-6133197_600="120000" data-gtm-vis-has-fired-6133197_600="1"><div style="display:inline-block"><div id="div-gpt-ad-1635294790718-0" style="min-width: 728px; min-height: 100px; padding-top:5px" data-google-query-id="CLPmqu_Iv_QCFQYacgodUY4J9Q"><div id="google_ads_iframe_/2916070/sticky_footer_leaderboard_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/2916070/sticky_footer_leaderboard_0" title="3rd party ad content" name="google_ads_iframe_/2916070/sticky_footer_leaderboard_0" width="728" height="90" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation" allow="attribution-reporting" style="border: 0px; vertical-align: bottom;" data-google-container-id="4" data-load-complete="true" src="./MQTT_TLS_files/saved_resource(3).html"></iframe></div></div></div><div style="display:inline-block"><span style="padding: 2px 6px;margin-left: 15px;margin-top: 5px;position: absolute;font-size: 10px;top: 0;color: gray;border-radius: 100px;cursor: default;" id="close" onclick="this.parentNode.parentNode.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode.parentNode.parentNode); return false;">X</span></div></div></div></div></div><script type="text/javascript" id="">googletag.cmd.push(function(){googletag.pubads().refresh([bottomAd]);bottomAd.updateTargetingFromMap({refreshed:"true"})});</script></body></html>